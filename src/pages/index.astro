---
import IndexHeader from "@/components/astro/index/IndexHeader.astro";
import IndexLatestPosts from "@/components/astro/index/IndexLatestPosts.astro";
import Layout from "@/layouts/base";
import { getPosts } from "@/lib/posts";

const posts = await getPosts();
posts.sort((a, b) => new Date(b.data.date).valueOf() - new Date(a.data.date).valueOf());
---

<Layout
  title="Void Flower"
  description="Void Flower is a blog about software engineering"
  bodyClassname="h-screen supports-[h-[100svh]:h-[100svh]"
  wrapperClassname="!h-auto min-h-full"
>
  <IndexHeader />
  <IndexLatestPosts posts={posts.slice(0, 5)} remaining={posts.length - 5} />
</Layout>
