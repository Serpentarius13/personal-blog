---
id: "test-article-test"
title: "Crafting cool code blocks"
description: "Learn how to style code blocks from Markdown and MDX with Astro, Shiki, Remark and Rehype."
date: 2024-06-10
image: "./img.jpg"
imageAlt: "A dog wearing a pair of shoes."
tags: ["astro", "shiki", "markdown", "parsing", "css"]
---

```ts title=hello.ts /Hello/ {"1: Hello world!":5-6} blurredLines={1-3,2-5,7-9,5,6}
console.log("Hello, world!");
console.log("Hello, world!");
console.log("Hello, world!");
console.log("Hello, world!");

console.log("Hello, world!");
```

## Nuxt.js

`Nuxt.js` is a powerful framework built on top of `Vue.js` that simplifies the development of server-rendered applications. It provides a robust architecture for building universal applications, which means that the same code can run on both the client and the server. This capability enhances performance and improves SEO, as search engines can easily crawl the pre-rendered pages.

\\

One of the standout features of `Nuxt` is its file-based routing system. By simply creating a new `.vue` file in the `pages` directory, developers can automatically generate routes without the need for additional configuration. For example, if you create a file named `about.vue` in the `pages` folder, it will automatically be accessible at `/about`.

\\

Another significant aspect of `Nuxt` is its support for `Vuex`, which is a state management pattern and library for `Vue.js` applications. `Nuxt` integrates `Vuex` seamlessly, allowing developers to manage the application state efficiently. This is particularly useful in larger applications where managing state can become complex.

\\

To illustrate how easy it is to get started with `Nuxt`, here‚Äôs a simple example of creating a basic `Nuxt` application:

```bash
npx create-nuxt-app my-nuxt-app
```

This command sets up a new `Nuxt` project with a default configuration. You can then navigate into the project directory and run the development server:

```bash
cd my-nuxt-app
npm run dev
```

\\

Once the server is running, you can access your application at `http://localhost:3000`. The default template includes a few pages and components, showcasing how `Nuxt` organizes files and directories.

\\

In conclusion, `Nuxt.js` offers a streamlined approach to building applications with `Vue.js`, enhancing both performance and developer experience. Its automatic routing, server-side rendering, and integration with `Vuex` make it a compelling choice for developers looking to create modern web applications.

```ts title=hello.ts /Hello/ {"1: Hello world!":5-6} blurredLines={1-3,2-5,7-9,5,6}
console.log("Hello, world!");
console.log("Hello, world!");
console.log("Hello, world!");
console.log("Hello, world!");

console.log("Hello, world!");
```

## Nuxt.js

`Nuxt.js` is a powerful framework built on top of `Vue.js` that simplifies the development of server-rendered applications. It provides a robust architecture for building universal applications, which means that the same code can run on both the client and the server. This capability enhances performance and improves SEO, as search engines can easily crawl the pre-rendered pages.

\\

One of the standout features of `Nuxt` is its file-based routing system. By simply creating a new `.vue` file in the `pages` directory, developers can automatically generate routes without the need for additional configuration. For example, if you create a file named `about.vue` in the `pages` folder, it will automatically be accessible at `/about`.

\\

Another significant aspect of `Nuxt` is its support for `Vuex`, which is a state management pattern and library for `Vue.js` applications. `Nuxt` integrates `Vuex` seamlessly, allowing developers to manage the application state efficiently. This is particularly useful in larger applications where managing state can become complex.

\\

To illustrate how easy it is to get started with `Nuxt`, here‚Äôs a simple example of creating a basic `Nuxt` application:

```bash
npx create-nuxt-app my-nuxt-app
```

This command sets up a new `Nuxt` project with a default configuration. You can then navigate into the project directory and run the development server:

```bash
cd my-nuxt-app
npm run dev
```

\\

Once the server is running, you can access your application at `http://localhost:3000`. The default template includes a few pages and components, showcasing how `Nuxt` organizes files and directories.

\\

In conclusion, `Nuxt.js` offers a streamlined approach to building applications with `Vue.js`, enhancing both performance and developer experience. Its automatic routing, server-side rendering, and integration with `Vuex` make it a compelling choice for developers looking to create modern web applications.

## –í–≤–µ–¥–µ–Ω–∏–µ

–ù–∞ –¥–∞–Ω–Ω—ã–π –º–æ–º–µ–Ω—Ç –≤ –º–∏—Ä–µ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –Ω–∞–∫–æ–ø–∏–ª–æ—Å—å –º–Ω–æ–≥–æ —Ä–∞–∑–Ω—ã—Ö —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π –∏ –≤–º–µ—Å—Ç–µ —Å –Ω–∏–º–∏ –ø–æ–¥—Ö–æ–¥–æ–≤ –∫ —Ç–æ–º—É, –∫–∞–∫ –Ω—É–∂–Ω–æ —Ä–∞–∑—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, –∫–æ—Ç–æ—Ä—ã–µ —Å—Ç–∞–Ω–æ–≤—è—Ç—Å—è —Å–ª–æ–∂–Ω–µ–µ –∏ —Å–ª–æ–∂–Ω–µ–µ —Å –∫–∞–∂–¥—ã–º –¥–Ω–µ–º - `React`, `Vue`, `Svelte` –∏ —Ç–∞–∫ –¥–∞–ª–µ–µ. –í–º–µ—Å—Ç–µ —Å –∫–∞–∂–¥–æ–π –∏–∑ —ç—Ç–∏—Ö —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π —Ä—è–¥–æ–º –æ–±—ã—á–Ω–æ —Å–ª–µ–¥—É–µ—Ç –º–µ—Ç–∞-—Ñ—Ä–µ–π–º–≤–æ—Ä–∫ - –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –∏ –±–æ–ª—å—à–∞—è —ç–∫–æ—Å–∏—Å—Ç–µ–º–∞ –±–∏–±–ª–∏–æ—Ç–µ–∫, –∫–æ—Ç–æ—Ä—ã–µ —Å–æ–∑–¥–∞—é—Ç —é–∑–µ—Ä—ã –æ–ø–µ–Ω—Å–æ—Ä—Å –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–∞. –î–ª—è `React` —ç—Ç–æ `Next.js`, –¥–ª—è `Svelte` - `SvelteKit`, –∞ –¥–ª—è `Vue` - `Nuxt`. –°–µ–≥–æ–¥–Ω—è—à–Ω—è—è —Å—Ç–∞—Ç—å—è –±—É–¥–µ—Ç –∏–º–µ–Ω–Ω–æ –ø—Ä–æ –Ω–µ–≥–æ.

–ü–æ—á–µ–º—É `Vue` –∏ `Nuxt`? –≠–≤–∞–Ω –Æ, —Å–æ–∑–¥–∞—Ç–µ–ª—å `Vue`, –º–Ω–æ–≥–æ–µ –ø–æ—á–µ—Ä–ø–Ω—É–ª –∏–∑ —Ä–∞–±–æ—Ç—ã –≤ Google –∏ —Å–æ–∑–¥–∞–ª –±–æ–ª–µ–µ —Ç–æ–Ω–∫—É—é –≤–µ—Ä—Å–∏—é `Angular` - —á—Ç–æ-—Ç–æ –ø–æ—Ö–æ–∂–µ–µ –Ω–∞ `React`, –º–µ–Ω–µ–µ –≥–∏–±–∫–∏–π, –Ω–æ –ø—Ä–∏ —ç—Ç–æ–º –Ω–∞–º–Ω–æ–≥–æ –±–æ–ª–µ–µ –ø—Ä–∏—è—Ç–Ω—ã–π –ø—Ä–∏ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ. –í—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Ä–µ—Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ `Virtual DOM`, –∫–ª–∞—Å—Å–Ω—ã–µ API –≤ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ `JSX` –∏ —à–∏—Ä–æ–∫–∞—è —ç–∫–æ—Å–∏—Å—Ç–µ–º–∞ –ø–æ–∑–≤–æ–ª—è—é—Ç `Vue` –±—ã—Ç—å –∏–¥–µ–∞–ª—å–Ω—ã–º —Ä–µ—à–µ–Ω–∏–µ–º –º–µ–∂–¥—É –ø—Ä–æ—Å—Ç–æ—Ç–æ–π `React` –∏ –≥—Ä–æ–º–æ–∑–¥–∫–æ—Å—Ç—å—é —Ç–æ–≥–æ –∂–µ `Angular`. `Vue` —Å–∏–ª—å–Ω–æ —É–ø—Ä–æ—â–∞–µ—Ç —Ä–∞–±–æ—Ç—É —Å–æ —Å—Ç–µ–π—Ç–æ–º –∏ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–æ–º, —á–∞—Å—Ç–æ –Ω–µ –ø–æ–∑–≤–æ–ª—è—è –≤—ã—Å—Ç—Ä–µ–ª–∏—Ç—å —Å–µ–±–µ –≤ –Ω–æ–≥—É, –∫–∞–∫ —ç—Ç–æ –¥–µ–ª–∞–µ—Ç `React`, —á—Ç–æ —Ç–∞–∫–∂–µ –¥–µ–ª–∞–µ—Ç –µ–≥–æ –∫–ª–∞—Å—Å–Ω—ã–º –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–º –¥–ª—è –Ω–æ–≤–∏—á–∫–æ–≤. –ò—Å–ø–æ–ª—å–∑—É—è `Vue`, –º–æ–∂–Ω–æ –Ω–∞—É—á–∏—Ç—å—Å—è –≤—Å–µ–º –æ—Å–Ω–æ–≤–Ω—ã–º –ø—Ä–∏–Ω—Ü–∏–ø–∞–º —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–≥–æ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞ –±–µ–∑ –æ—Å–æ–±–æ–π –≥–æ–ª–æ–≤–Ω–æ–π –±–æ–ª–∏.

`Nuxt` –∂–µ –¥–æ–ø–æ–ª–Ω—è–µ—Ç `Vue` –≤ –≤–æ–ø—Ä–æ—Å–∞—Ö –≤—ã–±–æ—Ä–∞ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ –¥–ª—è –º–∞–ª–µ–Ω—å–∫–∏—Ö –∏ —Å—Ä–µ–¥–Ω–∏—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤ - –æ–Ω –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –ø–æ–ª–Ω—É—é –ø–æ–¥–¥–µ—Ä–∂–∫—É `SSR` –∏–∑ –ø–æ–¥ –∫–æ—Ä–æ–±–∫–∏, –Ω–æ–≤–æ–º–æ–¥–Ω—ã–π —Ñ–∞–π–ª–æ–≤—ã–π —Ä–æ—É—Ç–µ—Ä –∏ –Ω–µ–ø–ª–æ—Ö—É—é –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø–æ—Å—Ç—Ä–æ–∏—Ç—å –±—ç–∫–µ–Ω–¥ –ø—Ä—è–º–æ –∏–∑ –Ω–∞—à–µ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —Å –ø–æ–º–æ—â—å—é —Å–µ—Ä–≤–µ—Ä–Ω—ã—Ö —Ä–æ—É—Ç–æ–≤. –ü–æ —Ö–æ–¥—É —ç—Ç–æ–π —Å—Ç–∞—Ç—å–∏ –º—ã –ø–æ–ª–Ω–æ—Å—Ç—å—é –∑–∞–¥–µ–π—Å—Ç–≤—É–µ–º –≤—Å–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ `Nuxt` –∏ –ø–æ—Å—Ç—Ä–æ–∏–º –Ω–µ–±–æ–ª—å—à—É—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É –ø—Ä–æ–µ–∫—Ç–∞.

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å—Ç–∞—Ç—å–∏

–í —ç—Ç–æ–π —Å—Ç–∞—Ç—å–µ –º—ã –Ω–∞–ø–∏—à–µ–º —Å—Ä–µ–¥–Ω–µ–≥–æ —Ä–∞–∑–º–µ—Ä–∞ Fullstack –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø—É–±–ª–∏—á–Ω—ã—Ö –∑–∞–º–µ—Ç–æ–∫ - Deep Thoughts (–ì–ª—É–±–æ–∫–∏–µ –ú—ã—Å–ª–∏). –í –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –º–æ–∂–Ω–æ –±—É–¥–µ—Ç –æ—Å—Ç–∞–≤–ª—è—Ç—å –ø—É–±–ª–∏—á–Ω—ã–µ –∑–∞–ø–∏—Å–∏, –∫–æ—Ç–æ—Ä—ã–µ –±—É–¥—É—Ç –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è –Ω–∞ –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ. –ú—ã –±—É–¥–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –±–∏–±–ª–∏–æ—Ç–µ–∫—É `shadcn/vue` –≤ –∫–∞—á–µ—Å—Ç–≤–µ —é–∞–π–∫–∏—Ç–∞, –∞ —Ç–∞–∫–∂–µ —Ä–∞—Å—Å–º–æ—Ç—Ä–∏–º —Ä–µ—à–µ–Ω–∏–µ –∞–∫—Ç—É–∞–ª—å–Ω—ã—Ö –ø—Ä–æ–±–ª–µ–º –µ–µ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å `Nuxt`. –ù–∞–ø–æ—Å–ª–µ–¥–æ–∫, –º—ã –±—É–¥–µ–º —Å–æ—Ö—Ä–∞–Ω—è—Ç—å –≤—Å–µ –¥–∞–Ω–Ω—ã–µ –≤ —Ä–µ–∞–ª—å–Ω—É—é –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö `MySQL` –∏ —Ä–∞–±–æ—Ç–∞—Ç—å —Å –Ω–µ–π —á–µ—Ä–µ–∑ `Prisma`. –í–æ –≤—Ä–µ–º—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –º—ã –±—É–¥–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `Docker Compose`, –∞ –≤ –∫–æ–Ω—Ü–µ —Å—Ç–∞—Ç—å–∏ –∑–∞—Ö–æ—Å—Ç–∏–º –±–∞–∑—É –Ω–∞ —Å–µ—Ä–≤–µ—Ä–∞—Ö `Timeweb` –∏ –∑–∞–¥–µ–ø–ª–æ–∏–º –ø—Ä–æ–µ–∫—Ç —á–µ—Ä–µ–∑ `Dockerfile`.

–ü–æ —Ö–æ–¥—É –Ω–∞–ø–∏—Å–∞–Ω–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —è –±—É–¥—É –ø—Ä–æ—Å—Ç—ã–º —è–∑—ã–∫–æ–º –æ–±—ä—è—Å–Ω—è—Ç—å —Å–≤–æ–π –ø–æ–¥—Ö–æ–¥ –∫ —Ä–µ—à–µ–Ω–∏—é –≤—Å—Ç–∞—é—â–∏—Ö –ø–µ—Ä–µ–¥ –Ω–∞–º–∏ –ø—Ä–æ–±–ª–µ–º —Å –ø—Ä–∏–º–µ—Ä–∞–º–∏, –∞ —Ç–∞–∫–∂–µ –¥–∞–≤–∞—Ç—å —Å—Å—ã–ª–∫–∏ –Ω–∞ –±–æ–ª–µ–µ —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç–æ–µ —Ä–µ—à–µ–Ω–∏–µ, –µ—Å–ª–∏ –æ–Ω–∏ –±—É–¥—É—Ç –Ω—É–∂–Ω—ã. –° —ç—Ç–∏–º –≤—ã —Ç–∞–∫–∂–µ –Ω–∞—É—á–∏—Ç–µ—Å—å –±—ã—Å—Ç—Ä–æ —Ä–µ—à–∞—Ç—å –ø—Ä–æ–±–ª–µ–º—ã, –µ—Å–ª–∏ –æ–Ω–∏ –≤–æ–∑–Ω–∏–∫–Ω—É—Ç —É –≤–∞—Å –ø—Ä–∏ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ. –ï—Å–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è –∫–∞–∫–∞—è-–ª–∏–±–æ –ø–æ–º–æ—â—å, –º–æ–∂–µ—Ç–µ –Ω–∞–ø–∏—Å–∞—Ç—å –≤ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏! –Ø —Å —Ä–∞–¥–æ—Å—Ç—å—é –ø–æ–º–æ–≥—É –≤–∞–º.

## –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞

–î–ª—è –Ω–∞—á–∞–ª–∞ –¥–∞–≤–∞–π—Ç–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º –Ω–æ–≤—ã–π –ø—Ä–æ–µ–∫—Ç –Ω–∞ `Nuxt`. –î–ª—è —ç—Ç–æ–≥–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º —Å–ª–µ–¥—É—é—â—É—é –∫–æ–º–∞–Ω–¥—É:

`npx nuxi init deep-thoughts`

![[Pasted image 20240823075045.png]]

–í –∫–∞—á–µ—Å—Ç–≤–µ –ø–∞–∫–µ—Ç–Ω–æ–≥–æ –º–µ–Ω–µ–¥–∂–µ—Ä–∞ —è –≤—ã–±–∏—Ä–∞—é —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π `npm`, –Ω–æ –≤—ã –º–æ–∂–µ—Ç–µ –≤—ã–±—Ä–∞—Ç—å –ª—é–±–æ–π –Ω–∞ –≤–∞—à –≤–∫—É—Å.

#### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∫–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏—è shadcn

–¢–µ–ø–µ—Ä—å –¥–∞–≤–∞–π—Ç–µ –∑–∞–≤–µ–¥–µ–º –Ω–∞ –ø—Ä–æ–µ–∫—Ç –Ω–∞—à —é–∞–π–∫–∏—Ç. –ê–∫—Ç—É–∞–ª—å–Ω—ã–π –≥–∞–π–¥ –ø–æ —É—Å—Ç–∞–Ω–æ–≤–∫–µ –º–æ–∂–Ω–æ –≤—Å–µ–≥–¥–∞ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ø–æ —Å—Å—ã–ª–∫–µ: https://www.shadcn-vue.com/docs/installation/nuxt.html.

–î–ª—è –Ω–∞—á–∞–ª–∞ –¥–∞–≤–∞–π—Ç–µ –æ–±—Å—É–¥–∏–º, —á—Ç–æ —Ç–∞–∫–æ–µ `shadcn`. –ò–∑–Ω–∞—á–∞–ª—å–Ω–æ —ç—Ç–æ—Ç —é–∞–π–∫–∏—Ç –ø–æ—è–≤–∏–ª—Å—è –≤ —ç–∫–æ—Å–∏—Å—Ç–µ–º–µ `React`. –ï–≥–æ —Å–æ–∑–¥–∞–ª –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å `shadcn` —Å —É–Ω–∏–∫–∞–ª—å–Ω—ã–º –ø–æ–¥—Ö–æ–¥–æ–º –∫ —Ç–æ–º—É, –∫–∞–∫ –¥–æ–ª–∂–Ω—ã —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—è—Ç—å—Å—è —é–∞–π–∫–∏—Ç—ã. –í–º–µ—Å—Ç–æ —Ç–æ–≥–æ, —á—Ç–æ–±—ã –∑–∞–≤–µ—Ä–Ω—É—Ç—å –≤—Å–µ —Å–≤–æ–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –≤ –±–∏–±–ª–∏–æ—Ç–µ–∫—É-npm –ø–∞–∫–µ—Ç, shadcn –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π `CLI` (Command-Line Interface), –∫–æ—Ç–æ—Ä—ã–π –ø–æ–∑–≤–æ–ª—è–µ—Ç –ª—é–±–æ–º—É —Å–∫–∞—á–∞—Ç—å –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –ø—Ä—è–º–æ –≤ —Å–≤–æ–π –ø—Ä–æ–µ–∫—Ç –±–µ–∑ –∫–∞–∫–∏—Ö-–ª–∏–±–æ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π (–ø–æ–º–∏–º–æ –æ–±—â–∏—Ö –±–∏–±–ª–∏–æ—Ç–µ–∫ —ç–∫–æ—Å–∏—Å—Ç–µ–º—ã, –≤—Ä–æ–¥–µ `react-hook-form`).

–ú–Ω–æ–≥–∏–º –ø–æ–ª—é–±–∏–ª—Å—è —ç—Ç–æ—Ç –ø–æ–¥—Ö–æ–¥ –∏ –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –ø—Ä–∏–æ–±—Ä–µ–ª–∞ –æ–≥—Ä–æ–º–Ω—É—é –ø–æ–ø—É–ª—è—Ä–Ω–æ—Å—Ç—å. –ü–æ–∑–∂–µ –µ–µ –ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–ª–∏ –¥–ª—è `Svelte` –∏ `Vue` –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏ –≤ –ø–æ–ª–Ω–æ–º –≤–∏–¥–µ. –ü–æ—Ä—Ç –¥–ª—è `Vue` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø–æ–¥ –∫–∞–ø–æ—Ç–æ–º –±–∏–±–ª–∏–æ—Ç–µ–∫—É `radix-vue`, –¥–ª—è —Ñ–æ—Ä–º –∂–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `vee-validate`.

–ü—Ä–æ–¥–æ–ª–∂–∏–º. –î–ª—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏, –≤–≤–µ–¥–µ–º –ø–∞—Ä—É –∫–æ–º–∞–Ω–¥:

`npm install -D typescript` –¥–ª—è —Ä–µ—à–µ–Ω–∏—è –æ–±—â–∏—Ö –ø—Ä–æ–±–ª–µ–º —Å `Nuxt` –∏ `Typescript`

`npx nuxi@latest module add @nuxtjs/tailwindcss` - —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –º–æ–¥—É–ª—è `Tailwind` –¥–ª—è `Nuxt`. –ï—Å–ª–∏ –≤—ã –Ω–µ –∑–Ω–∞–∫–æ–º—ã —Å `Tailwind`, —Ä–µ–∫–æ–º–µ–Ω–¥—É—é –æ–∑–Ω–∞–∫–æ–º–∏—Ç—å—Å—è —Å —ç—Ç–æ–π —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–µ–π —Ç—É—Ç: https://tailwindcss.com

`npx nuxi@latest module add shadcn-nuxt` - —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –º–æ–¥—É–ª—è `shadcn`

`npx shadcn-vue@latest init` - –∑–∞–ø—É—Å–∫ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ `CLI` `shadcn`. –í –ø—Ä–æ—Ü–µ—Å—Å–µ –≤—ã–±–∏—Ä–∞–µ–º –≤—Å–µ –¥–µ—Ñ–æ–ª—Ç–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è. –í –∫–∞—á–µ—Å—Ç–≤–µ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∞, –∫–æ–Ω–µ—á–Ω–æ –∂–µ, `Nuxt`.

–í –∏—Ç–æ–≥–µ –º—ã –¥–æ–ª–∂–Ω—ã –ø–æ–ª—É—á–∏—Ç—å —Ç–∞–∫—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É –ø–∞–ø–æ–∫:

![[Pasted image 20240823081139.png]]

–¢–∞–∫–∂–µ –¥–∞–≤–∞–π—Ç–µ —Å–æ–∑–¥–∞–¥–∏–º –µ—â–µ –æ–¥–∏–Ω —Ñ–∞–π–ª –∏ –Ω–∞–∑–æ–≤–µ–º –µ–≥–æ `main.css`:

```css
@import "tailwind.css";

html,
body {
  height: 100%;
  width: 100%;
}

#__nuxt {
  height: 100%;
}
```

–û–Ω –∏–º–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç —Å–æ–∑–¥–∞–Ω–Ω—ã–π `shadcn` —Ñ–∞–π–ª `tailwind.css`, –≤ –∫–æ—Ç–æ—Ä–æ–º –¥–æ–±–∞–≤–ª—è—é—Ç—Å—è –¥–µ—Ñ–æ–ª—Ç–Ω—ã–µ –∏–º–ø–æ—Ä—Ç—ã `Tailwind` –∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —Ç–µ–º—ã, –∞ —Ç–∞–∫–∂–µ –¥–æ–±–∞–≤–∏—Ç –Ω–µ–º–Ω–æ–≥–æ —Å—Ç–∏–ª–µ–π –¥–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã —Ä–∞—Å—Ç—è–Ω—É—Ç—å `<body>` –Ω–∞ –≤–µ—Å—å —ç–∫—Ä–∞–Ω.

–ß—Ç–æ–±—ã `Nuxt` —É—á–∏—Ç—ã–≤–∞–ª –Ω–∞—à –≥–ª–∞–≤–Ω—ã–π CSS —Ñ–∞–π–ª, –º—ã –¥–æ–ª–∂–Ω—ã —É–∫–∞–∑–∞—Ç—å –µ–≥–æ –≤ `nuxt.config.ts`:

```ts
css: ["assets/css/main.css"],
```

–¢–µ–ø–µ—Ä—å –¥–∞–≤–∞–π—Ç–µ –¥–æ–±–∞–≤–∏–º –Ω–∞ –ø—Ä–æ–µ–∫—Ç –ø–µ—Ä–≤—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç - –æ–±—ã—á–Ω—É—é –∫–Ω–æ–ø–∫—É –∏ —É–±–µ–¥–∏–º—Å—è, —á—Ç–æ –≤—Å–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ –Ω—É–∂–Ω–æ:

`npx shadcn-vue@latest add button`

–î–∞–ª–µ–µ —Å–æ–∑–¥–∞–¥–∏–º –ø–∞–ø–∫—É `pages`, –∞ –≤ –Ω–µ–π —Ñ–∞–π–ª `index.vue` —Å –¥–µ—Ñ–æ–ª—Ç–Ω—ã–º —à–∞–±–ª–æ–Ω–æ–º –¥–ª—è `Vue`:

```vue
<script setup lang="ts"></script>

<template></template>
```

–¢–∞–∫–∂–µ –Ω–∞–º –Ω—É–∂–Ω–æ –±—É–¥–µ—Ç –∏–∑–º–µ–Ω–∏—Ç—å —Ñ–∞–π–ª `app.vue`. –≠—Ç–æ –∫–æ—Ä–Ω–µ–≤–æ–π —Ñ–∞–π–ª –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è. –°–µ–π—á–∞—Å –≤ –Ω–µ–º —Å–ª–µ–¥—É—é—â–∞—è –∑–∞–ø–∏—Å—å:

```vue
<template>
  <div>
    <NuxtRouteAnnouncer />
    <NuxtWelcome />
  </div>
</template>
```

–ù–∞–º –∂–µ –Ω—É–∂–Ω–æ –±—É–¥–µ—Ç —É–±—Ä–∞—Ç—å –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π —ç–∫—Ä–∞–Ω `Nuxt` –∏ –ø—Ä–∏–≤–µ—Å—Ç–∏ –≤—Å–µ –∫ —Ç–∞–∫–æ–º—É –≤–∏–¥—É:

```vue
<template>
  <NuxtLayout>
    <NuxtRouteAnnouncer />
    <NuxtPage />
  </NuxtLayout>
</template>
```

–≠—Ç–æ –ø–æ–∑–≤–æ–ª–∏—Ç –Ω–∞–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ñ–∞–π–ª–æ–≤—ã–π —Ä–æ—É—Ç–µ—Ä –∏ –ª–µ–π–∞—É—Ç—ã (–æ –Ω–∏—Ö –ø–æ–∑–∂–µ).

–î–∞–≤–∞–π—Ç–µ –¥–æ–±–∞–≤–∏–º –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É `index.vue` –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –∫–Ω–æ–ø–∫–∏, –∫–æ—Ç–æ—Ä—ã–π –∞–≤—Ç–æ-–∏–º–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç—Å—è —Å –ø–æ–º–æ—â—å—é `Nuxt`:

```vue
<template>
  <Button> Hello World! </Button>
</template>
```

–ü–æ—á–∏—Ç–∞—Ç—å –æ –∞–≤—Ç–æ-–∏–º–ø–æ—Ä—Ç–∞—Ö –º–æ–∂–Ω–æ —Ç—É—Ç: https://nuxt.com/docs/guide/concepts/auto-imports. –ï—Å–ª–∏ –≤—ã —Ö–æ—Ç–∏—Ç–µ –∫–∞–∫-—Ç–æ –≤—ã–¥–µ–ª–∏—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∏–∑ —é–∞–π–∫–∏—Ç–∞, –≤—ã –¥–æ–±–∞–≤–∏—Ç—å –∏–º –ø—Ä–µ—Ñ–∏–∫—Å –≤ `nuxt.config.ts`:

```ts
shadcn: {
    prefix: "prefix",
  },
```

–ó–∞–ø—É—Å–∫–∞–µ–º —Å–µ—Ä–≤–µ—Ä –∫–æ–º–∞–Ω–¥–æ–π:

`npm run dev`

–∏ –Ω–∞ –≤—ã—Ö–æ–¥–µ –ø–æ–ª—É—á–∞–µ–º –Ω–∞—à—É –¥–æ–ª–≥–æ–∂–¥–∞–Ω–Ω—É—é –∫–Ω–æ–ø–∫—É:

![[Pasted image 20240823082722.png]]

–ù–∞–ø–æ—Å–ª–µ–¥–æ–∫, –¥–∞–≤–∞–π—Ç–µ –¥–æ–±–∞–≤–∏–º –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –¥–ª—è –Ω–∞—à–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —é–∞–π–∫–∏—Ç–∞. –°–¥–µ–ª–∞–µ–º –º—ã —ç—Ç–æ –∑–∞—Ä–∞–Ω–µ–µ –∏ —Å—Ä–∞–∑—É –∂–µ —É—Å—Ç—Ä–∞–Ω–∏–º –ø—Ä–æ–±–ª–µ–º—É, –∫–æ—Ç–æ—Ä–∞—è –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –≤–æ–∑–Ω–∏–∫–Ω–µ—Ç –ø—Ä–∏ —ç—Ç–æ–º. –í–≤–µ–¥–µ–º —Å–ª–µ–¥—É—é—â—É—é –∫–æ–º–∞–Ω–¥—É:

`npx shadcn-vue@latest add card form input label textarea`

`CLI` –¥–æ–±–∞–≤–∏—Ç –Ω–∞ –Ω–∞—à –ø—Ä–æ–µ–∫—Ç –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∫–∞—Ä—Ç–æ—á–∫–∏, —Ñ–æ—Ä–º—ã, –ø–æ–ª–µ–π –≤–≤–æ–¥–∞ –∏ –ª–µ–π–±–ª–∞, –∞ —Ç–∞–∫–∂–µ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç –±–∏–±–ª–∏–æ—Ç–µ–∫—É `vee-validate`.

–¢–µ–ø–µ—Ä—å –¥–∞–≤–∞–π—Ç–µ –ø–æ–ø—Ä–æ–±—É–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç —Ñ–æ—Ä–º—ã, —Å–æ–≥–ª–∞—Å–Ω–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏: https://www.shadcn-vue.com/docs/components/form.html:

```vue
<Form>
    <FormField name="hello" v-slot="{ componentField }">
      <FormItem>
        <FormLabel> Hello! </FormLabel>
        <FormControl>
          <Input v-bind="componentField" />
        </FormControl>
        <FormDescription />
        <FormMessage />
      </FormItem>
    </FormField>
</Form>
```

–ò–Ω–ø—É—Ç –ø–æ—è–≤–∏—Ç—Å—è –Ω–∞ —ç–∫—Ä–∞–Ω–µ, –Ω–æ –≤ –∫–æ–Ω—Å–æ–ª–∏ –±—É–¥—É—Ç —Å–ª–µ–¥—É—é—â–∏–µ –æ—à–∏–±–∫–∏:

![[Pasted image 20240823084054.png]]

–í—Å–µ –ø–æ—Ç–æ–º—É, —á—Ç–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç `FormItem` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ö—É–∫ `useId` –∏–∑ `radix-vue`, –∫–æ—Ç–æ—Ä—ã–π —Å–æ–∑–¥–∞–µ—Ç –º–∏—Å–º—ç—Ç—á (mismatch) –ø—Ä–∏ `SSR` –≤ `Nuxt`, –ø–æ—Ç–æ–º—É —á—Ç–æ –æ–Ω –Ω–µ –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞–Ω –¥–ª—è —Å–µ—Ä–≤–µ—Ä–Ω–æ–≥–æ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞. –î–ª—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è —ç—Ç–æ–π –æ—à–∏–±–∫–∏ –¥–∞–≤–∞–π—Ç–µ –¥–æ–±–∞–≤–∏–º —Å–ø–µ—Ü–∏–∞–ª—å–Ω—É—é –æ–±–µ—Ä—Ç–∫—É –∏–∑ `radix-vue` –≤ `app.vue` –∫–∞–∫ –ø—Ä–µ–¥–ª–∞–≥–∞—é—Ç —Ç—É—Ç: https://github.com/radix-vue/radix-vue/issues/577#issuecomment-1980983686. –û–Ω–∞ –∑–∞–º–µ–Ω–∏—Ç –∏–º–ø–ª–µ–º–µ–Ω—Ç–∞—Ü–∏—é `radix-vue` –Ω–∞ –∞–≤—Ç–æ-–∏–º–ø–æ—Ä—Ç `Nuxt`:

```vue
<script lang="ts" setup>
import { ConfigProvider } from "radix-vue";

const useIdFunction = () => useId();
</script>

<template>
  <ConfigProvider :use-id="useIdFunction">
    <NuxtLayout>
      <NuxtRouteAnnouncer />
      <NuxtPage />
    </NuxtLayout>
  </ConfigProvider>
</template>
```

–û—à–∏–±–∫–∞ —É—à–ª–∞ üéâ:

![[Pasted image 20240823090848.png]]

–¢–µ–ø–µ—Ä—å –≤—Å–µ –≥–æ—Ç–æ–≤–æ –¥–ª—è –¥–∞–ª—å–Ω–µ–π—à–µ–π —Ä–∞–±–æ—Ç—ã —Å –ø—Ä–æ–µ–∫—Ç–æ–º. –ü–µ—Ä–µ–π–¥–µ–º –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö!

## –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

–¢–µ–ø–µ—Ä—å –¥–∞–≤–∞–π—Ç–µ –¥–æ–±–∞–≤–∏–º –≤ –Ω–∞—à –ø—Ä–æ–µ–∫—Ç –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö –∏ `Prisma`. –í –∫–∞—á–µ—Å—Ç–≤–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –º—ã –±—É–¥–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `MySQL`, –∫–æ—Ç–æ—Ä—ã–π —Ä–∞–∑–≤–µ—Ä–Ω–µ–º –ª–æ–∫–∞–ª—å–Ω–æ —Å –ø–æ–º–æ—â—å—é `Docker Compose`.

–ù–µ–º–Ω–æ–≥–æ –æ —Å–∞–º–æ–º –¥–æ–∫–µ—Ä–µ. `Docker` - –∫—Ä–∞–π–Ω–µ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–Ω–∞—è —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—è –∫–æ–Ω—Ç–∞–π–Ω–µ—Ä–∏–∑–∞—Ü–∏–∏ –æ–∫—Ä—É–∂–µ–Ω–∏–π. –û–Ω–∞ –ø–æ–º–æ–≥–∞–µ—Ç —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞–º –¥–µ–ª–∏—Ç—å—Å—è –∫–æ–¥–æ–º –¥—Ä—É–≥ —Å –¥—Ä—É–≥–æ–º, –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É—è —Ç–æ—á–Ω—ã–µ –∫–æ–ø–∏–π –æ–∫—Ä—É–∂–µ–Ω–∏–π, —á—Ç–æ–±—ã –Ω–µ –≤—Å—Ç–∞–≤–∞–ª –∫–æ–Ω—Ñ–ª–∏–∫—Ç –æ —Ç–æ–º, —á—Ç–æ —É –≤–∞—Å –Ω–∞ –∫–æ–º–ø—å—é—Ç–µ—Ä–µ –≤—Å–µ —Ä–∞–±–æ—Ç–∞–µ—Ç, –∞ –Ω–∞ –ø—Ä–æ–∫–ª—è—Ç–æ–º –æ–±–ª–∞—á–Ω–æ–º —Å–µ—Ä–≤–µ—Ä–µ Digital Ocean —Å–æ–≤—Å–µ–º –Ω–µ —Ö–æ—á–µ—Ç. –í –Ω–∞—à–µ–º —Å–ª—É—á–∞–µ –º—ã –±—É–¥–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `Docker` –∫–∞–∫ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ - –ø–æ–¥—Ç—è–Ω–µ–º –æ–±—Ä–∞–∑ `MySQL`, —á—Ç–æ–±—ã –Ω–µ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å `MySQL` –Ω–∞ —Å–∞–º –∫–æ–º–ø—å—é—Ç–µ—Ä. –ü–æ–∑–∂–µ –º—ã –Ω–∞–ø–∏—à–µ–º `Dockerfile`, —Å –ø–æ–º–æ—â—å—é –∫–æ—Ç–æ—Ä–æ–≥–æ –Ω–∞—à –ø—Ä–æ–µ–∫—Ç –±—É–¥–µ—Ç —Ä–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞—Ç—å—Å—è —á–µ—Ä–µ–∑ `Timeweb`.

–ß—Ç–æ–±—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `Docker Compose`, –Ω—É–∂–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å–∞–º `Docker`. –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –≤—ã –º–æ–∂–µ—Ç–µ –Ω–∞–π—Ç–∏ –≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –ø–æ —Å—Å—ã–ª–∫–µ: https://docs.docker.com/engine/install/ - –≤—ã–±–µ—Ä–∏—Ç–µ –≤–∞—à—É –æ–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω—É—é —Å–∏—Å—Ç–µ–º—É –∏ —Å–ª–µ–¥—É–π—Ç–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤—É.

–ö–∞–∫ —Ç–æ–ª—å–∫–æ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ `Docker`, –¥–∞–≤–∞–π—Ç–µ –Ω–∞–ø–∏—à–µ–º —Ñ–∞–π–ª `compose.yml`, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç –ø–æ–¥—Ç—è–≥–∏–≤–∞—Ç—å –æ–±—Ä–∞–∑ `mysql`:

```yml
services:
  db:
    image: mysql:8.3
    restart: always
```

–î–∞–ª–µ–µ, –¥–∞–≤–∞–π—Ç–µ –¥–æ–±–∞–≤–∏–º –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è, —á—Ç–æ–±—ã —É–ø—Ä–∞–≤–ª—è—Ç—å –ø–∞—Ä–æ–ª–µ–º `root` –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è `mysql` –∏ –≤—ã–±–∏—Ä–∞—Ç—å –±–∞–∑—É, —Å –∫–æ—Ç–æ—Ä–æ–π –±—É–¥–µ–º —Ä–∞–±–æ—Ç–∞—Ç—å. –î–ª—è —ç—Ç–æ–≥–æ –¥–æ–±–∞–≤–∏–º —Ñ–∞–π–ª `.env` —Å–æ —Å–ª–µ–¥—É—é—â–∏–º–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏:

```
DB_DATABASE=app
DB_PASSWORD=randompassword4000
```

–∏ –∏—Å–ø–æ–ª—å–∑—É–µ–º –∏—Ö –≤ `compose.yml`:

```yml
services:
  db:
    image: mysql:8.3
    restart: always
    environment:
      MYSQL_ROOT_PASSWORD: ${DB_PASSWORD}
      MYSQL_DATABASE: ${DB_DATABASE}
```

–î–∞–ª–µ–µ, –Ω—É–∂–Ω–æ –±—É–¥–µ—Ç –ø—Ä–∏–≤—è–∑–∞—Ç—å –¥–∞–Ω–Ω—ã–µ, –∫–æ—Ç–æ—Ä—ã–µ –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä, –∫ –¥–∞–Ω–Ω—ã–º –Ω–∞—à–µ–≥–æ –∫–æ–º–ø—å—é—Ç–µ—Ä–∞. –≠—Ç–æ –Ω—É–∂–Ω–æ –¥–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å–æ—Ö—Ä–∞–Ω—è–ª –≤—Å–µ, —á—Ç–æ –±—ã–ª–æ –≤ –Ω–µ–≥–æ –¥–æ–±–∞–≤–ª–µ–Ω–æ. –î–ª—è —ç—Ç–æ–≥–æ –¥–æ–±–∞–≤–∏–º —Å–ª–µ–¥—É—é—â–∏–µ –∑–∞–ø–∏—Å–∏:

```yml
services:
  db:
    image: mysql:8.3
    restart: always
    environment:
      MYSQL_ROOT_PASSWORD: ${DB_PASSWORD}
      MYSQL_DATABASE: ${DB_DATABASE}
    volumes:
      - db_data:/var/lib/mysql

volumes:
  db_data:
```

`volumes` –ø–æ–¥ `db` –æ–∑–Ω–∞—á–∞–µ—Ç: —Å–æ—Ö—Ä–∞–Ω—è–π –≤ –ø–∞–ø–∫—É `db_data` –Ω–∞ –º–æ–µ–º –∫–æ–º–ø—å—é—Ç–µ—Ä–µ –≤—Å–µ, —á—Ç–æ –ª–µ–∂–∏—Ç –≤ –ø–∞–ø–∫–µ `/var/lib/mysql` –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ. –ó–∞–ø–∏—Å—å –Ω–∏–∂–µ –¥–∞–µ—Ç –¥–æ–∫–µ—Ä—É –∑–Ω–∞—Ç—å, —á—Ç–æ —É –Ω–∞—Å –µ—Å—Ç—å `volume` —Å —Ç–∞–∫–∏–º –∏–º–µ–Ω–µ–º. –û–Ω –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–µ—Ñ–æ–ª—Ç–Ω—ã–π –∫–æ–Ω—Ñ–∏–≥ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–ª—è `db_data`, —á–µ–≥–æ –Ω–∞–º –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ.

–î–∞–ª–µ–µ, —á—Ç–æ–±—ã –Ω–∞—à–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å–º–æ–≥–ª–æ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–æ–≤–∞—Ç—å —Å –±–∞–∑–æ–π, –Ω—É–∂–Ω–æ –ø—Ä–æ–±—Ä–æ—Å–∏—Ç—å –ø–æ—Ä—Ç—ã –∏–∑ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –Ω–∞—Ä—É–∂—É. –î–µ–ª–∞–µ—Ç—Å—è —ç—Ç–æ —Å –ø–æ–º–æ—â—å—é –∑–∞–ø–∏—Å–∏:

```yml
db:
	ports:
      - "3306:3306"
```

–∫–æ—Ç–æ—Ä–∞—è –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –ø–æ—Ä—Ç —Å–ª–µ–≤–∞ (–Ω–∞ –Ω–∞—à–µ–º –∫–æ–º–ø—å—é—Ç–µ—Ä–µ) –±—É–¥–µ—Ç —Å–º–æ—Ç—Ä–µ—Ç—å –Ω–∞ –ø–æ—Ä—Ç —Å–ø—Ä–∞–≤–∞ (–≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ) –∏ –Ω–∞—à–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å–º–æ–∂–µ—Ç –≤–æ—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –±–∞–∑–æ–π —á–µ—Ä–µ–∑ –ø–æ—Ä—Ç 3306, –∫–æ—Ç–æ—Ä—ã–π —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –ø–æ—Ä—Ç—É 3306 –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ.

–ù–∞–ø–æ—Å–ª–µ–¥–æ–∫, –¥–æ–±–∞–≤–∏–º –ø—Ä–æ–≤–µ—Ä–∫—É —Å—Ç–∞—Ç—É—Å–∞ –∑–∞–ø—É—Å–∫–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ - `healthcheck`. –≠—Ç–æ –Ω—É–∂–Ω–æ –¥–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã –∑–Ω–∞—Ç—å, –∫–æ–≥–¥–∞ –±–∞–∑–∞ —É–∂–µ –≥–æ—Ç–æ–≤–∞ –ø—Ä–∏–Ω–∏–º–∞—Ç—å –∑–∞–ø—Ä–æ—Å—ã –∏ –º–æ–∂–Ω–æ –∑–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ, –∞ –∫–æ–≥–¥–∞ –Ω–µ—Ç. –ü–æ —Å—É—Ç–∏ `healthcheck` –±—É–¥–µ—Ç —Å–æ—Å—Ç–æ—è—Ç—å –≤ —Ç–æ–º, —á—Ç–æ –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ –±—É–¥–µ—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å—Å—è –∫–æ–º–∞–Ω–¥–∞ `mysqladmin ping` –≤ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–º –∏–Ω—Ç–µ—Ä–≤–∞–ª–µ, —á—Ç–æ –¥–∞—Å—Ç –¥–æ–∫–µ—Ä—É –∑–Ω–∞—Ç—å, "–∑–¥–æ—Ä–æ–≤" –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –∏–ª–∏ –Ω–µ—Ç. –§–∏–Ω–∞–ª—å–Ω–∞—è –∑–∞–ø–∏—Å—å `compose.yml`:

```yml
services:
  db:
    image: mysql:8.3
    restart: always
    environment:
      MYSQL_ROOT_PASSWORD: ${DB_PASSWORD}
      MYSQL_DATABASE: ${DB_DATABASE}
    volumes:
      - db_data:/var/lib/mysql
    ports:
      - "3306:3306"
    healthcheck:
      test: ["CMD-SHELL", "mysqladmin ping"]
      interval: 2s
      timeout: 2s
      retries: 10

volumes:
  db_data:
```

–ü–æ–ø—Ä–æ–±—É–µ–º –∑–∞–ø—É—Å—Ç–∏—Ç—å `Docker`:

`docker compose up`

–ï—Å–ª–∏ –≤–∏–¥–∏—Ç–µ —Ç–∞–∫—É—é –∑–∞–ø–∏—Å—å:

![[Pasted image 20240823130732.png]]

–∑–Ω–∞—á–∏—Ç –≤—Å–µ —Ö–æ—Ä–æ—à–æ –∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —É—Å–ø–µ—à–Ω–æ –∑–∞–ø—É—â–µ–Ω üèãÔ∏è

## –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Prisma

–ü–∞—Ä—É —Å–ª–æ–≤ –æ `Prisma`. `Prisma` - –æ–¥–Ω–∞ –∏–∑ —Å–∞–º—ã—Ö –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö `ORM` (Object-Relational Mapper) –¥–ª—è `Node.js`. –£ —ç—Ç–æ–π –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ –æ–≥—Ä–æ–º–Ω–æ–µ –∫–æ–º—å—é–Ω–∏—Ç–∏ –∏ –≥–æ–¥—ã —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –∏ –ø–æ—Ñ–∏–∫—à–µ–Ω–Ω—ã—Ö –±–∞–≥–æ–≤ –ø–æ–∑–∞–¥–∏ - –º–æ–∂–Ω–æ —Å—á–∏—Ç–∞—Ç—å –µ–µ –Ω–∞–¥–µ–∂–Ω—ã–º –∏ –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–º –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–º. `ORM` –ø–æ–Ω–∞–¥–æ–±–∏—Ç—Å—è –Ω–∞–º –¥–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã –ø—Ä–æ—â–µ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–æ–≤–∞—Ç—å —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö, –Ω–µ –º—É—á–∞—Ç—å—Å—è —Å —Å–∞–Ω–∏—Ç–∏–∑–∞—Ü–∏–µ–π SQL-–∑–∞–ø—Ä–æ—Å–æ–≤, –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–Ω–∏–µ–º —Å–æ—Å—Ç–æ—è–Ω–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –∏ –º–∏–≥—Ä–∞—Ü–∏–π, –Ω–∞–ø–∏—Å–∞–Ω–∏–µ–º –∏ –ø–æ—Å–ª–µ–¥—É—é—â–µ–π –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π —Å–≤–æ–∏—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ –∏ —Ç–∏–ø–æ–≤ –∫ –Ω–∏–º. `Prisma` –∏–º–µ–µ—Ç –∫—Ä–∞–π–Ω–µ –¥—Ä—É–∂–µ–ª—é–±–Ω–æ–µ API, —Å –ø–æ–º–æ—â—å—é –∫–æ—Ç–æ—Ä–æ–≥–æ –º–æ–∂–Ω–æ –ø–∏—Å–∞—Ç—å –ø—Ä–æ—Å—Ç—ã–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —Å –±–∞–∑–∞–º–∏ –¥–∞–Ω–Ω—ã—Ö –¥–∞–∂–µ –±–µ–∑ –æ—Å–æ–±–æ–≥–æ –∑–Ω–∞–Ω–∏—è SQL.

–î–∞–≤–∞–π—Ç–µ –¥–æ–±–∞–≤–∏–º `Prisma` –Ω–∞ –ø—Ä–æ–µ–∫—Ç. –î–ª—è —ç—Ç–æ–≥–æ —É—Å—Ç–∞–Ω–æ–≤–∏–º –¥–≤–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏:

`npm i prisma -D`
`npm i @prisma/client`

–ü–µ—Ä–≤–∞—è - —ç—Ç–æ `CLI` `Prisma`, —Å –ø–æ–º–æ—â—å—é –∫–æ—Ç–æ—Ä–æ–≥–æ –º—ã –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º –ø—Ä–æ–µ–∫—Ç, –±—É–¥–µ–º –¥–æ–±–∞–≤–ª—è—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏, —á—Ç–æ–±—ã –ø–æ–∑–∂–µ –∏–º–µ—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø–æ–ª–Ω–æ—Å—Ç—å—é –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –ø–æ —â–µ–ª—á–∫—É –ø–∞–ª—å—Ü–µ–≤, –∞ —Ç–∞–∫–∂–µ –ø—Ä–∏–º–µ–Ω—è—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –Ω–∞–ø—Ä—è–º—É—é –∫ –±–∞–∑–µ. –í—Ç–æ—Ä–∞—è - —ç—Ç–æ –∫–ª–∏–µ–Ω—Ç –¥–ª—è `Prisma`, —Å –ø–æ–º–æ—â—å—é –∫–æ—Ç–æ—Ä–æ–≥–æ –º—ã –±—É–¥–µ–º –¥–µ–ª–∞—Ç—å —Å–∞–º–∏ –∑–∞–ø—Ä–æ—Å—ã –≤ –∫–æ–¥–µ.

–î–∞–ª–µ–µ –Ω–∞–ø–∏—à–µ–º:

`npx prisma init`

–≠—Ç–æ —Å–æ–∑–¥–∞—Å—Ç –ø–∞–ø–∫—É `prisma` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞ –∏ —Ñ–∞–π–ª `schema.prisma` –≤–Ω—É—Ç—Ä–∏. –ù–µ–º–Ω–æ–≥–æ –∏–∑–º–µ–Ω–∏–º —Å—Ç—Ä—É–∫—Ç—É—Ä—É —Ñ–∞–π–ª–∞, —á—Ç–æ–±—ã –æ–Ω–∞ –±—ã–ª–∞ —Ç–∞–∫–æ–π:

```json
generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}
```

–ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ –¥–∞–≤–∞–π—Ç–µ –¥–æ–±–∞–≤–∏–º –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é `DATABASE_URL` –≤ –Ω–∞—à `.env` —Ñ–∞–π–ª:

```
DATABASE_URL=mysql://root:${DB_PASSWORD}@localhost:3306/${DB_DATABASE}
```

–ó–¥–µ—Å—å –º—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º –∏–Ω—Ç–µ—Ä–ø–æ–ª—è—Ü–∏—é –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö, –∫–æ—Ç–æ—Ä—ã–µ –¥–æ–±–∞–≤–∏–ª–∏ —Ä–∞–Ω–µ–µ, —á—Ç–æ–±—ã –ø—Ä–∏ –∏—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –º—ã –º–æ–≥–ª–∏ –Ω–µ –±–µ—Å–ø–æ–∫–æ–∏—Ç—å—Å—è –æ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –º–µ–∂–¥—É –Ω–∏–º–∏.

–î–∞–ª–µ–µ –¥–æ–±–∞–≤–∏–º –≤ —Å—Ö–µ–º—É `Prisma` –Ω–∞—à—É –º–æ–¥–µ–ª—å –º—ã—Å–ª–∏ (Thought):

```json
model Thought {
  id       Int    @id @default(autoincrement())

  username String
  text String @db.VarChar(256)

  createdAt DateTime @default(now())
}
```

–ö –º–æ–¥–µ–ª–∏ `Prisma` —Å–æ–∑–¥–∞—Å—Ç —Ç–∞–±–ª–∏—Ü—É –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö —Å —É–∫–∞–∑–∞–Ω–Ω—ã–º–∏ –ø–æ–ª—è–º–∏. `id` –±—É–¥–µ—Ç —á–∏—Å–ª–æ–≤—ã–º –∏ —Å –∫–∞–∂–¥–æ–π –∑–∞–ø–∏—Å—å—é –±—É–¥–µ—Ç —É–≤–µ–ª–∏—á–∏–≤–∞—Ç—å—Å—è –Ω–∞ 1 —Å –ø–æ–º–æ—â—å—é `@default(autoincrement)`. –ö –ø–æ–ª—é `text` –º—ã –¥–æ–±–∞–≤–∏–º `@db.VarChar(256)`, —á—Ç–æ–±—ã –æ–Ω–æ –º–æ–≥–ª–æ —Ö—Ä–∞–Ω–∏—Ç—å 256 —Å–∏–º–≤–æ–ª–æ–≤, –∞ –Ω–µ 191, –∫–∞–∫ –æ–Ω–æ —Ö—Ä–∞–Ω–∏–ª–æ –±—ã –ø—Ä–æ—Å—Ç–æ —Å —Ç–∏–ø–æ–º `String`. `createdAt` –±—É–¥–µ—Ç –≤—ã—Å—Ç–∞–≤–ª—è—Ç—å—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –∑–∞–ø–∏—Å–∏.

–ù–∞–∫–æ–Ω–µ—Ü, —É–±–µ–¥–∏–º—Å—è —á—Ç–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –∑–∞–ø—É—â–µ–Ω –≤ –æ–¥–Ω–æ–º –∏–∑ —Ç–µ—Ä–º–∏–Ω–∞–ª–æ–≤ –∏, –ø–µ—Ä–µ–π–¥—è –≤ –¥—Ä—É–≥–æ–π —Ç–µ—Ä–º–∏–Ω–∞–ª –≤—ã–ø–æ–ª–Ω–∏–º –∫–æ–º–∞–Ω–¥—É:

`npx prisma db push`

![[Pasted image 20240823132626.png]]

–ï—Å–ª–∏ –≤–∞—à –≤—ã–≤–æ–¥ –ø–æ—Ö–æ–∂ –Ω–∞ —ç—Ç–æ—Ç, —Ç–æ –º—ã —É—Å–ø–µ—à–Ω–æ –æ–±–Ω–æ–≤–∏–ª–∏ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö –≤ `Docker` üíΩ

–î–ª—è —É–ª—É—á—à–µ–Ω–∏—è DX (Developer Experience), —Ç–µ–ø–µ—Ä—å –º–æ–∂–Ω–æ –Ω–∞–ø–∏—Å–∞—Ç—å –Ω–µ–±–æ–ª—å—à–æ–π —Å–∫—Ä–∏–ø—Ç –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞ –≤ –æ–¥–Ω—É –∫–æ–º–∞–Ω–¥—É. –û–Ω –±—É–¥–µ—Ç –ø–æ–¥–Ω–∏–º–∞—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö, –Ω–∞–∫–∞—Ç—ã–≤–∞—Ç—å –∞–∫—Ç—É–∞–ª—å–Ω—ã–µ –º–∏–≥—Ä–∞—Ü–∏–∏ –∏ –∑–∞–ø—É—Å–∫–∞—Ç—å –ø—Ä–æ–µ–∫—Ç:

`startup.sh`

```bash
echo "–ó–∞–ø—É—Å–∫–∞–µ–º –¥–æ–∫–µ—Ä üêã"
docker compose up -d --wait # –§–ª–∞–≥ -d (detached) –∑–∞–ø—É—Å–∫–∞–µ—Ç docker compose –≤ –±—ç–∫–≥—Ä–∞—É–Ω–¥–µ. --wait –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ –∏ –ø–µ—Ä–µ–¥–∞–µ—Ç –∫–æ–Ω—Ç—Ä–æ–ª—å –æ–±—Ä–∞—Ç–Ω–æ —Å–∫—Ä–∏–ø—Ç—É, —á—Ç–æ–±—ã –≤—ã–ø–æ–ª–Ω—è—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏ —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ —Ç–æ–≥–æ, –∫–∞–∫ –±–∞–∑–∞ –±—É–¥–µ—Ç –≥–æ—Ç–æ–≤–∞

echo "–ù–∞–∫–∞—Ç—ã–≤–∞–µ–º –º–∏–≥—Ä–∞—Ü–∏–∏ üõ†"
npx prisma db push

echo "–ó–∞–ø—É—Å–∫–∞–µ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ üöÄ"
npm run dev
```

![[Pasted image 20240823133104.png]]

–í—Å–µ —Ä–∞–±–æ—Ç–∞–µ—Ç üëç

–ù–∞–∫–æ–Ω–µ—Ü, –¥–∞–≤–∞–π—Ç–µ –¥–æ–±–∞–≤–∏–º –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—é –∫–ª–∏–µ–Ω—Ç–∞ `Prisma` –≤ –ø–∞–ø–∫—É `server/db`:

`index.ts`

```ts
import { PrismaClient } from "@prisma/client";

const createPrisma = () => {
  return new PrismaClient();
};

declare const globalThis: {
  db: ReturnType<typeof createPrisma>;
} & typeof global;

export const db = globalThis.db ?? createPrisma();

if (process.env.NODE_ENV !== "production") globalThis.db = db;
```

–ú–µ—Ç–æ–¥ `createPrisma` –ø—Ä–æ—Å—Ç–æ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∏–Ω—Å—Ç–∞–Ω—Å –∫–ª–∞—Å—Å–∞ `PrismaClient`, –∫–æ—Ç–æ—Ä—ã–π —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–ª `CLI` –ø—Ä–∏–∑–º—ã. –î–∞–ª–µ–µ –∏–¥–µ—Ç –æ–±—ä—è–≤–ª–µ–Ω–∏–µ –≥–ª–æ–±–∞–ª—å–Ω–æ–π –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π `db` –∏ –µ–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∏ –ø–µ—Ä–µ–∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –≤ —Å–ª—É—á–∞–µ, –µ—Å–ª–∏ –æ–∫—Ä—É–∂–µ–Ω–∏–µ –Ω–µ —è–≤–ª—è–µ—Ç—Å—è –ø—Ä–æ–¥–æ–≤—ã–º. –≠—Ç–æ —Å–¥–µ–ª–∞–Ω–æ –¥–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã –ø—Ä–∏ `Hot-Reload` —Å–µ—Ä–≤–µ—Ä–∞ `Nuxt` –Ω–µ —Å–æ–∑–¥–∞–≤–∞–ª –Ω–æ–≤—ã–π –∏–Ω—Å—Ç–∞–Ω—Å `PrismaClient`, –∞ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è–ª —Ç–µ–∫—É—â–∏–π, –∏ –≤—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω-–µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π.

## –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Ñ–æ—Ä–º—ã –æ—Ç–ø—Ä–∞–≤–∫–∏

–î–∞–ª–µ–µ, –¥–∞–≤–∞–π—Ç–µ –Ω–∞–ø–∏—à–µ–º —Ñ–æ—Ä–º—É —Å–æ–∑–¥–∞–Ω–∏—è _–ì–ª—É–±–æ–∫–æ–π_ –º—ã—Å–ª–∏.

–î–ª—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏ —Ñ–æ—Ä–º –º—ã –±—É–¥–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `zod` (https://github.com/colinhacks/zod), –ø–æ–ø—É–ª—è—Ä–Ω—É—é –±–∏–±–ª–∏–æ—Ç–µ–∫—É –¥–ª—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö. –¢–∞–∫–∂–µ `zod` –ø–æ–ª–Ω–æ—Å—Ç—å—é –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω —Å `TypeScript` –∏ `vee-validate`. –ö–æ–≥–¥–∞ –º—ã —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–ª–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç `form` –∏–∑ `shadcn`, `CLI` –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É—Å—Ç–∞–Ω–æ–≤–∏–ª –±–∏–±–ª–∏–æ—Ç–µ–∫—É `zod` –∏ –∞–¥–∞–ø—Ç–µ—Ä –¥–ª—è `vee-validate` - `@vee-validate/zod` –Ω–∞ –Ω–∞—à –ø—Ä–æ–µ–∫—Ç.

–¢–∞–∫ –∫–∞–∫ –º—ã –ø–∏—à–µ–º Fullstack –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ, —á—É—Ç—å –ø–æ–∑–∂–µ –º—ã –¥–æ–±–∞–≤–∏–º –ª–æ–≥–∏–∫—É –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –¥–∞–Ω–Ω—ã—Ö –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ, –ø–æ—ç—Ç–æ–º—É –¥–∞–≤–∞–π—Ç–µ —Å–æ–∑–¥–∞–¥–∏–º –æ—Ç–¥–µ–ª—å–Ω—É—é –ø–∞–ø–∫—É `schemas` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞ –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –≤–∞–ª–∏–¥–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Å—Ö–µ–º `zod`. –î–æ–±–∞–≤–∏–º —Ç—É–¥–∞ —Ñ–∞–π–ª `thought.ts`, –≤ –∫–æ—Ç–æ—Ä–æ–º –æ–±—ä—è–≤–∏–º –ø—Ä–æ—Å—Ç—É—é —Å—Ö–µ–º—É `zod` –∏ —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–µ–º –µ–µ –∏ `TypeScript` –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å, –∫–æ—Ç–æ—Ä—ã–π –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç `zod` —á–µ—Ä–µ–∑ `utility-—Ç–∏–ø` `z.Infer<T>`:

`thought.ts`

```ts
import { z } from "zod";

export const CREATE_THOUGHT_MAX_LENGTH = 200; // —ç—Ç—É –∫–æ–Ω—Å—Ç–∞–Ω—Ç—É –∏—Å–ø–æ–ª—å–∑—É–µ–º –≤ —Ñ–æ—Ä–º–µ

export const createThoughtSchema = z.object({
  text: z
    .string({
      message: "–í–≤–µ–¥–∏—Ç–µ —Ç–µ–∫—Å—Ç –º—ã—Å–ª–∏",
    })
    .min(1, {
      message: "–í–≤–µ–¥–∏—Ç–µ —á—Ç–æ-—Ç–æ!",
    })
    .max(CREATE_THOUGHT_MAX_LENGTH, {
      message: `–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –¥–ª–∏–Ω–∞ —Ç–µ–∫—Å—Ç–∞ ${CREATE_THOUGHT_MAX_LENGTH} –∑–Ω–∞–∫–æ–≤`,
    }),
  name: z
    .string({
      message: "–í–≤–µ–¥–∏—Ç–µ —Å–≤–æ–µ –∏–º—è",
    })
    .max(50, {
      message: "–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –¥–ª–∏–Ω–∞ –∏–º–µ–Ω–∏ 50 –∑–Ω–∞–∫–æ–≤",
    }),
});

export type CreateThoughtSchema = z.infer<typeof createThoughtSchema>;
```

–¢–µ–ø–µ—Ä—å –¥–∞–≤–∞–π—Ç–µ –Ω–∞–ø–∏—à–µ–º –ª–æ–≥–∏–∫—É —Ñ–æ—Ä–º—ã –≤ –ø–∞–ø–∫–µ `components/thought/form`:

`ThoughtForm.vue`

```vue
<script setup lang="ts">
// –∏–º–ø–æ—Ä—Ç–∏—Ä—É–µ–º —Å—Ö–µ–º—É, —Ç–∏–ø—ã –∏ –º–µ—Ç–æ–¥—ã –∏–∑ vee-validate
import {
  CREATE_THOUGHT_MAX_LENGTH,
  createThoughtSchema,
  type CreateThoughtSchema,
} from "~/schemas/thought";

import type { ThoughtInputRef } from "./props";

import { toTypedSchema } from "@vee-validate/zod";
import { useForm } from "vee-validate";

// –∏–Ω–∏—Ü–∏–ª–∞–∑–∏—Ä—É–µ–º Props, —á—Ç–æ–±—ã –ø–æ—Ç–æ–º –æ—Ç–æ–±—Ä–∞–∑–∏—Ç—å –æ—à–∏–±–∫—É
interface Props {
  error?: string;
}

defineProps<Props>();

// –∏–Ω–∏—Ü–∏–∞–ª–∏–∑—É–µ–º emit, —á—Ç–æ–±—ã –ø—Ä–æ—Å–ª—É—à–∏–≤–∞—Ç—å submit –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ-—Ä–æ–¥–∏—Ç–µ–ª–µ
const emit = defineEmits<{
  (event: "submit", data: CreateThoughtSchema): void;
}>();

// –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º —Ñ–æ—Ä–º—É vee-validate
const form = useForm({
  validationSchema: toTypedSchema(createThoughtSchema),
});

const handleSubmit = form.handleSubmit((data) => {
  emit("submit", data);
});
</script>
```

–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ –±—É–¥–µ—Ç —Ç–∞–∫–æ–π: –º—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç `Card` –≤ –∫–∞—á–µ—Å—Ç–≤–µ –æ–±–µ—Ä—Ç–∫–∏, —Å–¥–µ–ª–∞–µ–º –¥–≤–∞ –ø–æ–ª—è, –∫–∞–∫ –≤ —Å—Ö–µ–º–µ: –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ —Ç–µ–∫—Å—Ç –º—ã—Å–ª–∏. –¢–µ–∫—Å—Ç –º—ã—Å–ª–µ–π –º—ã —Ä–µ–∞–ª–∏–∑—É–µ–º —Å –ø–æ–º–æ—â—å—é `Textarea`. –ü—Ä–∏ —ç—Ç–æ–º –º—ã –¥–æ–±–∞–≤–∏–º —Å—á–µ—Ç—á–∏–∫ —Å–∏–º–≤–æ–ª–æ–≤ –∏ –æ–≥—Ä–∞–Ω–∏—á–∏–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–∏–º–≤–æ–ª–æ–≤ –∫–æ–Ω—Å—Ç–∞–Ω—Ç–æ–π, –∫–æ—Ç–æ—Ä—É—é –æ–±—ä—è–≤–∏–ª–∏ –≤ —Ñ–∞–π–ª–µ —Å–æ —Å—Ö–µ–º–∞–º–∏. –ï—â–µ, –º—ã —Ö–æ—Ç–∏–º —á—Ç–æ–±—ã –ø—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ `Shift+Enter`, —Å–æ–æ–±—â–µ–Ω–∏–µ –æ—Ç–ø—Ä–∞–≤–ª—è–ª–æ—Å—å –±–µ–∑ –Ω–∞–∂–∞—Ç–∏—è –Ω–∞ –∫–Ω–æ–ø–∫—É - –¥–ª—è —ç—Ç–æ–≥–æ –º—ã –ø—Ä–∏–≤—è–∂–µ–º —Å–ª—É—à–∞—Ç–µ–ª—å `@keydown.enter.prevent` —Å —á–µ–∫–æ–º –Ω–∞ `event.shiftKey`. –í–Ω–∏–∑—É –∫–∞—Ä—Ç–æ—á–∫–∏ –º—ã —Å–¥–µ–ª–∞–µ–º –≤—ã–≤–æ–¥ –æ—à–∏–±–∫–∏ - –∫—Ä–∞—Å–Ω–æ–≥–æ —Ç–µ–∫—Å—Ç–∞, –µ—Å–ª–∏ –æ–Ω–∞ –±—É–¥–µ—Ç –ø—Ä–æ–∫–∏–Ω—É—Ç–∞ —Å–Ω–∞—Ä—É–∂–∏. –í—Å–µ —ç—Ç–æ –≤—ã–≥–ª—è–¥–∏—Ç –ø—Ä–∏–º–µ—Ä–Ω–æ —Ç–∞–∫:

```vue
<template>
  <Card>
    <CardHeader class="p-5 pb-0">
      –ü–æ–¥–µ–ª–∏—Ç–µ—Å—å —Å–≤–æ–µ–π –≥–ª—É–±–æ–∫–æ–π –º—ã—Å–ª—å—é!
    </CardHeader>
    <CardContent class="p-5">
      <form
        class="gap-2 flex flex-col"
        @submit="handleSubmit"
        @keydown.enter.prevent="
          (event) => {
            if (event.shiftKey) {
              handleSubmit();
            }
          }
        "
      >
        <FormField
          v-slot="{ componentField }"
          name="name"
          :validate-on-blur="false"
        >
          <FormItem>
            <FormControl>
              <Input v-bind="componentField" placeholder="–í–∞—à–µ –∏–º—è" />
            </FormControl>

            <FormMessage />
          </FormItem>
        </FormField>

        <FormField
          v-slot="{ componentField }"
          name="text"
          :validate-on-blur="false"
        >
          <FormItem>
            <FormControl>
              <div class="relative">
                <Textarea
                  :maxlength="CREATE_THOUGHT_MAX_LENGTH"
                  placeholder="–î–∞–≤–∞–π—Ç–µ –∂–µ..."
                  v-bind="componentField"
                  class="resize-none"
                />
                <div
                  class="absolute bottom-1 right-2 flex items-center gap-2 z-5"
                >
                  {{ componentField.modelValue?.length || 0 }}/{{
                    CREATE_THOUGHT_MAX_LENGTH
                  }}
                </div>
              </div>
            </FormControl>

            <FormMessage />
          </FormItem>
        </FormField>

        <Button type="submit" class="mt-2">–û—Ç–ø—Ä–∞–≤–∏—Ç—å!</Button>

        <p v-if="error" class="text-md font-bold text-red-500">
          {{ error }}
        </p>
      </form>
    </CardContent>
  </Card>
</template>
```

–î–∞–≤–∞–π—Ç–µ –ø–æ—Å–º–æ—Ç—Ä–∏–º –Ω–∞ –Ω–∞—à –∫–æ–º–ø–æ–Ω–µ–Ω—Ç:

```vue
<div class="max-w-md mx-auto mt-4">
    <ThoughtForm error="Error" />
</div>
```

![[Pasted image 20240823123947.png]]

–ü–æ–¥ –∫–æ–Ω–µ—Ü, –¥–∞–≤–∞–π—Ç–µ –¥–æ–±–∞–≤–∏–º –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –æ—á–∏—â–∞—Ç—å —Ñ–æ—Ä–º—É –ø–æ –Ω–∞—à–µ–º—É –∂–µ–ª–∞–Ω–∏—é –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ —Ä–æ–¥–∏—Ç–µ–ª—è. –¢–∞–∫, –º—ã —Å–º–æ–∂–µ–º –æ—á–∏—â–∞—Ç—å —Ñ–æ—Ä–º—É –Ω–µ —Å—Ä–∞–∑—É –ø–æ—Å–ª–µ –æ—Ç–ø—Ä–∞–≤–∫–∏, –∞ —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –æ—Ç–ø—Ä–∞–≤–∫–∞ –±—ã–ª–∞ —É—Å–ø–µ—à–Ω–æ–π, —á—Ç–æ–±—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å–º–æ–≥ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–æ, —á—Ç–æ —É–∂–µ –Ω–∞–ø–∏—Å–∞–ª.

–¢–∞–∫–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –º–æ–∂–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Å –ø–æ–º–æ—â—å—é –º–µ—Ç–æ–¥–∞ `defineExpose`. –î–ª—è —ç—Ç–æ–≥–æ —Å–æ–∑–¥–∞–¥–∏–º –≤ –ø–∞–ø–∫–µ `components/thought/form` —Ñ–∞–π–ª `types.ts`:

```ts
export interface ThoughtFormRef {
  handleResetForm: () => void;
}
```

–ò –≤ —Å–∞–º–æ–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ –¥–æ–±–∞–≤–∏–º –∏–º–ø–æ—Ä—Ç:

```ts
import type { ThoughtFormRef } from "./types";
```

–ò `defineExpose`:

```ts
defineExpose<ThoughtInputRef>({
  handleResetForm: () => {
    form.resetForm();
  },
});
```

–¢–µ–ø–µ—Ä—å –Ω–∞–º –Ω—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å `ref` –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ-—Ä–æ–¥–∏—Ç–µ–ª–µ:

```vue
<script setup lang="ts">
import { type ThoughtFormRef } from "~/components/thought/form/types";

const formRef = ref<ThoughtFormRef>();
</script>

<template>
  <div class="max-w-md mx-auto mt-4">
    <ThoughtForm error="Error" ref="formRef" />
  </div>
</template>
```

–ò —Å—Ç–æ—Ä–æ–Ω—é—é –∫–Ω–æ–ø–∫—É, –∫–æ—Ç–æ—Ä–∞—è –±—É–¥–µ—Ç —Å–±—Ä–∞—Å—ã–≤–∞—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Ñ–æ—Ä–º—ã:

```vue
<Button @click="formRef?.handleResetForm()"> –°–±—Ä–æ—Å–∏—Ç—å </Button>
```

–í–≤–µ–¥–µ–º —á—Ç–æ-—Ç–æ:

![[Pasted image 20240823124627.png]]

–ò –Ω–∞–∂–º–µ–º –Ω–∞ –∫–Ω–æ–ø–∫—É:

![[Pasted image 20240823124640.png]]

–í—Å–µ —Ä–∞–±–æ—Ç–∞–µ—Ç üéâ

## –°–µ—Ä–≤–µ—Ä–Ω–∞—è –ª–æ–≥–∏–∫–∞

–¢–µ–ø–µ—Ä—å –¥–∞–≤–∞–π—Ç–µ –Ω–∞–ø–∏—à–µ–º –ª–æ–≥–∏–∫—É –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ, –∫–æ—Ç–æ—Ä–∞—è –±—É–¥–µ—Ç –ø—Ä–∏–Ω–∏–º–∞—Ç—å –∑–∞–ø—Ä–æ—Å—ã —Å —Ñ–æ—Ä–º—ã –∏ —Å–æ—Ö—Ä–∞–Ω—è—Ç—å –ø–æ–ª—É—á–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –≤ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö, –∞ —Ç–∞–∫–∂–µ –¥–æ–±–∞–≤–∏–º –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø–æ–ª—É—á–∞—Ç—å –≤—Å–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–µ –º—ã—Å–ª–∏.

–ü–æ–¥—Ä–æ–±–Ω–µ–µ —É–∑–Ω–∞—Ç—å –æ —Ç–æ–º, –∫–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –±—ç–∫–µ–Ω–¥-—Å–æ—Å—Ç–∞–≤–ª—è—é—â–∞—è `Nuxt` –º–æ–∂–Ω–æ –∑–¥–µ—Å—å: https://nuxt.com/docs/getting-started/server. –í–∫—Ä–∞—Ç—Ü–µ, –ø—Ä–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞ —Ç–∞–∫–∂–µ —Å–æ–∑–¥–∞–µ—Ç—Å—è –ø–∞–ø–∫–∞ `server`. –í –Ω–µ–π –º—ã –º–æ–∂–µ–º —Å–æ–∑–¥–∞—Ç—å –ø–∞–ø–∫—É `routes` –∏–ª–∏ `api`, –≤ –∫–æ—Ç–æ—Ä—ã—Ö –º–æ–∂–µ–º —Å–æ–∑–¥–∞–≤–∞—Ç—å –ø–∞–ø–∫–∏ –∏ —Ñ–∞–π–ª—ã –¥–ª—è REST API. –ü–æ —Å—É—Ç–∏, –≤ `Nuxt` –º–æ–∂–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –º–∏–Ω–∏-API –≤—Ä–æ–¥–µ `Express`, –Ω–µ –∑–∞–ø—É—Å–∫–∞—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö —Å–µ—Ä–≤–µ—Ä–æ–≤.

`Nuxt` –æ—Å–Ω–æ–≤–∞–Ω –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ `Nitro`. `Nitro` - –æ–±–µ—Ä—Ç–∫–∞ –¥–ª—è HTTP —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–æ–≤ –≤—Ä–æ–¥–µ `h3`. –û–±–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ —è–≤–ª—è—é—Ç—Å—è —á–∞—Å—Ç—å—é —ç–∫–æ—Å–∏—Å—Ç–µ–º—ã `unjs`. –ù–∞–ø—Ä–∏–º–µ—Ä, –º—ã —Ç–∞–∫–∂–µ –±—É–¥–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —É—Ç–∏–ª–∏—Ç—É `$fetch` –∏–∑ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ `unjs/ofetch`, –∫–æ—Ç–æ—Ä–∞—è –∑–∞–º–µ–Ω—è–µ—Ç `fetch` –±—Ä–∞—É–∑–µ—Ä–∞ –¥–ª—è –±–æ–ª—å—à–µ–π —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏. –í —ç–∫–æ—Å–∏—Å—Ç–µ–º–µ –º–Ω–æ–≥–æ –¥—Ä—É–≥–∏—Ö –º–æ–¥—É–ª–µ–π, –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –∏—Ö –º–æ–∂–Ω–æ —Ç—É—Ç: https://github.com/unjs

–î–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã —Å–æ–∑–¥–∞—Ç—å API —Å `Nitro`, —Å–æ–∑–¥–∞–¥–∏–º —Ñ–∞–π–ª –≤ –ø–∞–ø–∫–µ `server/routes/thought`:

`index.get.ts`

```ts
export default defineEventHandler(async (event) => {
  return "Hello world!";
});
```

–∏, –∑–∞–ø—É—Å—Ç–∏–≤ –ø—Ä–æ–µ–∫—Ç, –ø–µ—Ä–µ–π–¥–µ–º –Ω–∞ `url` `/thought`:

![[Pasted image 20240823135239.png]]

–ú—ã –Ω–∞–ø–∏—Å–∞–ª–∏ –ø–µ—Ä–≤—ã–π API `handler`(—Ä—É—á–∫—É)! üêí

–§–∞–π–ª–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞ –≤ –ø–∞–ø–∫–µ `server/routes` —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–∞–∫–∂–µ, –∫–∞–∫ —Ñ–∞–π–ª–æ–≤—ã–π —Ä–æ—É—Ç–µ—Ä –≤ `pages`: –º—ã –º–æ–∂–µ–º —Å–æ–∑–¥–∞–≤–∞—Ç—å API —Ä—É—á–∫–∏ —Å –ø–æ–º–æ—â—å—é –Ω–∞–∑–≤–∞–Ω–∏—è –ø–∞–ø–æ–∫ –∏ —Ñ–∞–π–ª–æ–≤. –°—É—Ñ—Ñ–∏–∫—Å `get` –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –ø–æ —Ä–æ—É—Ç—É `/thought` –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å —Ç–æ–ª—å–∫–æ `GET` –∑–∞–ø—Ä–æ—Å. –ù–∞–ø—Ä–∏–º–µ—Ä, –µ—Å–ª–∏ –º—ã –∏–∑–º–µ–Ω–∏–º —Å—É—Ñ—Ñ–∏–∫—Å –Ω–∞ `post`, —Ç–æ –≤ –±—Ä–∞—É–∑–µ—Ä–µ —É–≤–∏–¥–∏–º —Å—Ç—Ä–∞–Ω–∏—Ü—É 404:

![[Pasted image 20240823135543.png]]

–ú–µ—Ç–æ–¥ `defineEventHandler` –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –≤ —Å–µ–±—è –∫–æ–ª–±–µ–∫ –¥–ª—è —Ä–æ—É—Ç–∞, –≤ –∫–æ—Ç–æ—Ä–æ–º –¥–æ—Å—Ç—É–ø–Ω–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è `event`. `event` –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ—á–µ–Ω—å –º–Ω–æ–≥–∏–º–∏ —Å–ø–æ—Å–æ–±–∞–º–∏ - –ø–æ–¥—Ä–æ–±–Ω–µ–µ –æ –Ω–µ–º –º–æ–∂–Ω–æ –ø—Ä–æ—á–∏—Ç–∞—Ç—å –≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏. –í –Ω–∞—à–µ–º –∂–µ —Å–ª—É—á–∞–µ –º—ã –±—É–¥–µ–º –ø–∞—Ä—Å–∏—Ç—å `body`, —á—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –≤ `post` –∑–∞–ø—Ä–æ—Å–µ.

–î–∞–≤–∞–π—Ç–µ –¥–æ–±–∞–≤–∏–º –≤ —Ñ–∞–π–ª `index.post.ts` –ª–æ–≥–∏–∫—É —Å–æ–∑–¥–∞–Ω–∏—è –º—ã—Å–ª–∏:

```ts
import { createThoughtSchema } from "~/schemas/thought";
import { db } from "~/server/db";

export default defineEventHandler(async (event) => {
  const body = await readBody(event);

  const bodyParsed = await createThoughtSchema.safeParseAsync(body);

  if (!bodyParsed.success) {
    throw createError({
      message: bodyParsed.error.issues[0].message,
      status: 422,
    });
  }

  const thought = await db.thought.create({
    data: {
      username: bodyParsed.data.name,
      text: bodyParsed.data.text,
    },
  });

  return thought;
});
```

–ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Ç–∞–∫–∞—è: –º—ã –ø–∞—Ä—Å–∏–º `body` –∏–∑ –≤—Ö–æ–¥—è—â–µ–≥–æ `event` —Å –ø–æ–º–æ—â—å—é –º–µ—Ç–æ–¥–∞ `Nuxt` `readBody`, –ø–æ—Ç–æ–º —Å –ø–æ–º–æ—â—å—é `zod` —Å—Ö–µ–º—ã, –∫–æ—Ç–æ—Ä—É—é –º—ã –æ–±—ä—è–≤–∏–ª–∏ —Ä–∞–Ω–µ–µ, –ø–∞—Ä—Å–∏–º `body` –º–µ—Ç–æ–¥–æ–º `safeParseAsync`. –ó–∞—Ç–µ–º –º—ã –ø—Ä–æ–≤–µ—Ä—è–µ–º, —É—Å–ø–µ—à–Ω–æ –ª–∏ –ø—Ä–æ–≤–∞–ª–∏–¥–∏—Ä–æ–≤–∞–ª–æ—Å—å `body`, –µ—Å–ª–∏ –Ω–µ—Ç, —Ç–æ –±—Ä–æ—Å–∞–µ–º –æ—à–∏–±–∫—É `422` - `UNPROCESSABLE_CONTENT`—Å —Å–æ–æ–±—â–µ–Ω–∏–µ–º –ø–µ—Ä–≤–æ–π –æ—à–∏–±–∫–∏. –î–∞–ª–µ–µ, –º—ã —Å–æ–∑–¥–∞–µ–º –∑–∞–ø–∏—Å—å –º—ã—Å–ª–∏ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ–º —Å–æ–∑–¥–∞–Ω–Ω—É—é –∑–∞–ø–∏—Å—å.

–î–ª—è –±–æ–ª–µ–µ –ø—Ä–æ—Å—Ç–æ–≥–æ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å–æ —Å—Ç–∞—Ç—É—Å –∫–æ–¥–∞–º–∏ HTTP, –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –±–∏–±–ª–∏–æ—Ç–µ–∫—É `http-status-codes`:

```ts
import { StatusCodes } from "http-status-codes";

throw createError({
  message: bodyParsed.error.issues[0].message,
  status: StatusCodes.UNPROCESSABLE_ENTITY,
});
```

–¢–∞–∫–∂–µ –º–æ–∂–Ω–æ –Ω–∞–ø–∏—Å–∞—Ç—å –º–µ—Ç–æ–¥ –¥–ª—è –±–æ–ª–µ–µ –∫–æ—Ä–æ—Ç–∫–æ–π –∑–∞–ø–∏—Å–∏ –ø–∞—Ä—Å–∏–Ω–≥–∞ –ø–æ —Å—Ö–µ–º–µ `zod`:

```ts
import { StatusCodes } from "http-status-codes";
import { ZodSchema } from "zod";

export const parseOrThrow = async <T extends Record<PropertyKey, unknown>>(
  data: unknown,
  schema: ZodSchema<T>,
  // –∏—Å–ø–æ–ª—å–∑—É–µ–º Generic –¥–ª—è –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–∏ —Å –ª—é–±–æ–π —Å—Ö–µ–º–æ–π
): Promise<T> => {
  const parsed = await schema.safeParseAsync(data);

  if (!parsed.success) {
    throw createError({
      message: parsed.error.issues[0].message,
      statusCode: StatusCodes.UNPROCESSABLE_ENTITY,
    });
  }

  return parsed.data;
};
```

–ò—Å–ø–æ–ª—å–∑—É–µ–º –µ–µ —Ç–∞–∫ (–Ω–µ –∑–∞–±—ã–≤–∞–µ–º —É–±—Ä–∞—Ç—å `.data` —Å `bodyParsed`):

```ts
const bodyParsed = await parseOrThrow(body, createThoughtSchema);

const thought = await db.thought.create({
  data: {
    username: bodyParsed.name,
    text: bodyParsed.text,
  },
});
```

–ü–æ–¥ –∫–æ–Ω–µ—Ü, —Ñ–∞–π–ª –≤—ã–≥–ª—è–¥–∏—Ç —Ç–∞–∫:

```ts
import { createThoughtSchema } from "~/schemas/thought";
import { db } from "~/server/db";

export default defineEventHandler(async (event) => {
  const body = await readBody(event);

  const bodyParsed = await parseOrThrow(body, createThoughtSchema);

  const thought = await db.thought.create({
    data: {
      username: bodyParsed.name,
      text: bodyParsed.text,
    },
  });

  return thought;
});
```

## –í–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ –∫–ª–∏–µ–Ω—Ç–∞ —Å —Å–µ—Ä–≤–µ—Ä–æ–º

–¢–µ–ø–µ—Ä—å –¥–∞–≤–∞–π—Ç–µ —Å–≤—è–∂–µ–º –ª–æ–≥–∏–∫—É —Å–µ—Ä–≤–µ—Ä–∞ —Å –Ω–∞—à–µ–π —Ñ–æ—Ä–º–æ–π. –í `app.vue` –≤–Ω–µ—Å–µ–º —Å–ª–µ–¥—É—é—â–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è:

```vue
<script setup lang="ts">
import { type ThoughtFormRef } from "~/components/thought/form/types";
import type { CreateThoughtSchema } from "~/schemas/thought";

const error = ref("");
const formRef = ref<ThoughtFormRef>();

const handleSubmit = async (data: CreateThoughtSchema) => {
  try {
    await $fetch("/thought", {
      method: "POST",
      body: data,
    });
    formRef.value?.handleResetForm();
  } catch (err) {
    if (err instanceof Error) {
      error.value = err.message;
    }
  }
};
</script>

<template>
  <div class="max-w-md mx-auto mt-4">
    <ThoughtForm ref="formRef" @submit="handleSubmit" :error="error" />
  </div>
</template>
```

–ú—ã –¥–æ–±–∞–≤–∏–ª–∏ —Å–æ—Å—Ç–æ—è–Ω–∏–µ `error` –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –æ—à–∏–±–∫–∏ –∏ –º–µ—Ç–æ–¥ –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –∑–∞–ø—Ä–æ—Å–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä —Å –ø–æ–º–æ—â—å—é `$fetch`. –ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–π –æ—Ç–ø—Ä–∞–≤–∫–∏ —Ñ–æ—Ä–º—ã –º—ã –±—É–¥–µ–º —Å–±—Ä–∞—Å—ã–≤–∞—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Ñ–æ—Ä–º—ã. –ü—Ä–∏ –æ—à–∏–±–∫–µ - —á–µ–∫–∞—Ç—å `err` –Ω–∞ –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–Ω–æ—Å—Ç—å –∫ –∏–Ω—Å—Ç–∞–Ω—Å—É `Error`, —á—Ç–æ–±—ã –Ω–µ –≤–æ–∑–Ω–∏–∫–ª–æ –æ—à–∏–±–∫–∏ —Å —Ç–∏–ø–∞–º–∏ –∏ –Ω–µ –ø–∏—Å–∞—Ç—å `any`, –∏ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è–µ–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ `error`.

–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –¥–æ–±–∞–≤–∏—Ç—å –º—ã—Å–ª—å. –ï—Å–ª–∏ —Ñ–æ—Ä–º–∞ —Å–±—Ä–æ—Å–∏–ª–∞—Å—å - –∑–Ω–∞—á–∏—Ç –º—ã—Å–ª—å –¥–æ–±–∞–≤–ª–µ–Ω–∞ —É—Å–ø–µ—à–Ω–æ üòÄ

## –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –º—ã—Å–ª–µ–π

–î–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å–ø–∏—Å–∫–∞ –º—ã—Å–ª–µ–π –ø–æ—Å–ª–µ–¥—É–µ–º —Ç–æ–º—É –∂–µ —Å—Ü–µ–Ω–∞—Ä–∏—é —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏. –î–ª—è –Ω–∞—á–∞–ª–∞ —Å–æ–∑–¥–∞–¥–∏–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã `ThoughtCard` –∏ `ThoughtList` –≤ –ø–∞–ø–∫–µ `components/thought`:

`ThoughtCard.vue`

```vue
<script setup lang="ts">
import { type Thought } from "@prisma/client";

interface Props {
  thought: Thought;
}

defineProps<Props>();
</script>

<template>
  <Card>
    <CardHeader class="pb-4 pt-4">
      <CardTitle>
        <span class="text-sm text-muted-foreground"> –û—Ç: &nbsp;</span>
        {{ thought.username }}
      </CardTitle>
    </CardHeader>
    <CardContent>
      <p class="text-lg text-muted-foreground truncate">
        {{ thought.text }}
      </p>
      <p class="text-xs mt-3 ml-auto w-fit text-muted-foreground">
        {{ new Date(thought.createdAt).toLocaleString() }}
      </p>
    </CardContent>
  </Card>
</template>
```

–¢—É—Ç –º—ã –æ—Ç–æ–±—Ä–∞–∂–∞–µ–º –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, —Ç–µ–∫—Å—Ç —Å–æ–æ–±—â–µ–Ω–∏—è –∏ –æ—Ç—Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–Ω—É—é –ª–æ–∫–∞–ª—å–Ω–æ –¥–∞—Ç—É —Å–æ–∑–¥–∞–Ω–∏—è –º—ã—Å–ª–∏ –≤ `Card`. –í –∫–∞—á–µ—Å—Ç–≤–µ —Ç–∏–ø–∞ –∏—Å–ø–æ–ª—å–∑—É–µ–º –≥–µ–Ω–µ—Ä–∏—Ä—É–µ–º—ã–π —Ç–∏–ø `Thought` –∏–∑ `@prisma/client`.

`ThoughtList.vue`

```vue
<script setup lang="ts">
import type { Thought } from "@prisma/client";

interface Props {
  thoughts: Thought[];
}

defineProps<Props>();
</script>

<template>
  <section>
    <h4
      v-if="thoughts.length === 0"
      class="text-center text-lg text-muted-foreground"
    >
      –í –±–∞–∑–µ –Ω–µ—Ç –º—ã—Å–ª–µ–π...
    </h4>

    <ul v-else class="flex flex-col gap-2" role="list">
      <li v-for="thought in thoughts" :key="thought.id">
        <ThoughtCard :thought="thought" />
      </li>
    </ul>
  </section>
</template>
```

–í —ç—Ç–æ–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ –º—ã –æ—Ç—Ä–∏—Å–æ–≤—ã–≤–∞–µ–º `<section>` —Å —Ç–µ–∫—Å—Ç–æ–º, —á—Ç–æ –º—ã—Å–ª–µ–π –Ω–µ—Ç, –∏–ª–∏ –µ—Å–ª–∏ –æ–Ω–∏ –µ—Å—Ç—å, —Ç–æ –≤—ã–≤–æ–¥–∏–º `ul` —Å–ø–∏—Å–æ–∫ –∫–∞—Ä—Ç–æ—á–µ–∫.

–í –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –¥–æ–±–∞–≤–∏–º –≤—ã–∑–æ–≤ —Ö—É–∫–∞ `useFetch`:

```ts
const { data: thoughts, status } = await useFetch<Thought[]>("/thought", {
  method: "GET",
  default: () => [],
});
```

`useFetch` - –æ–¥–∏–Ω –∏–∑ —Å–ø–æ—Å–æ–±–æ–≤ –ø–æ–ª—É—á–∏—Ç—å –¥–∞–Ω–Ω—ã–µ —Å API –≤ `Nuxt`. –û–Ω —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞–Ω –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–º–∏ —Å–µ—Ä–≤–µ—Ä–Ω—ã–º–∏ —Ä–æ—É—Ç–∞–º–∏. –î–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Å—Ç–æ—Ä–æ–Ω–Ω–µ–≥–æ –∞–ø–∏ –º–æ–∂–Ω–æ –±—ã–ª–æ –±—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `useAsyncData`. –•–æ—Ç—è `useFetch` —Å–∞–º –ø–æ–¥—Ç—è–≥–∏–≤–∞–µ—Ç –≤–æ–∑–≤—Ä–∞—â–∞–µ–º–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ —Ä—É—á–∫–∏ `/thought`, –º—ã —É–∫–∞–∑—ã–≤–∞–µ–º Generic: `<Thought[]>` –∏ `default` –∑–Ω–∞—á–µ–Ω–∏–µ –≤—ã–∑–æ–≤–∞, —á—Ç–æ–±—ã –Ω–µ –±—ã–ª–æ –æ—à–∏–±–∫–∏ —Å —Ç–∏–ø–∞–º–∏ –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ.

–í `<template>` –¥–æ–±–∞–≤–ª—è–µ–º —Å–ª–µ–¥—É—é—â–µ–µ:

```vue
<p class="text-destructive text-md" v-if="status === 'error'">
      {{ error }}
    </p>
<ThoughtList :thoughts="thoughts" v-else />
```

—á—Ç–æ–±—ã –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å –æ—à–∏–±–∫—É, –µ—Å–ª–∏ –æ–Ω–∞ –µ—Å—Ç—å, –∏–ª–∏ —Å–ø–∏—Å–æ–∫, –≤ –∫–æ—Ç–æ—Ä—ã–π –º—ã –ø—Ä–æ–∫–∏–¥—ã–≤–∞–µ–º –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é `thoughts`.

–ù–∞–º –æ—Å—Ç–∞–ª–æ—Å—å —Ç–æ–ª—å–∫–æ –¥–æ–±–∞–≤–∏—Ç—å —Å–µ—Ä–≤–µ—Ä–Ω—ã–π —Ä–æ—É—Ç `/thought` –¥–ª—è `GET` –∑–∞–ø—Ä–æ—Å–∞ –≤ —Ñ–∞–π–ª–µ `server/routes/index.get.ts`:

```ts
import { db } from "~/server/db";

export default defineEventHandler(async (event) => {
  // —Å–æ—Ä—Ç–∏—Ä—É–µ–º –ø–æ –Ω–æ–≤–∏–∑–Ω–µ
  return db.thought.findMany({
    orderBy: {
      createdAt: "desc",
    },
  });
});
```

–ü–æ—Å–º–æ—Ç—Ä–∏–º –Ω–∞ —Ç–æ, —á—Ç–æ –ø–æ–ª—É—á–∏–ª–æ—Å—å:

![[Pasted image 20240823143416.png]]

–î–ª—è —Ö–æ—Ä–æ—à–µ–≥–æ UX (User Experience), –¥–æ–±–∞–≤–∏–º –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –ø–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –æ—Ç–ø—Ä–∞–≤–∫–∏ —Ñ–æ—Ä–º—ã:

```ts
const {
  data: thoughts,
  status,
  refresh,
} = await useFetch<Thought[]>("/thought", {
  method: "GET",
  default: () => [],
});

const handleSubmit = async (data: CreateThoughtSchema) => {
  try {
    await $fetch("/thought", {
      method: "POST",
      body: data,
    });

    formRef.value?.handleResetForm();

    await refresh();
  } catch (err) {
    if (err instanceof Error) {
      error.value = err.message;
    }
  }
};
```

–ú—ã –¥–µ—Å—Ç—Ä—É–∫—Ç—É—Ä–∏–∑–∏—Ä—É–µ–º –º–µ—Ç–æ–¥ `refresh` –∏–∑ `useFetch` –∏ –∏—Å–ø–æ–ª—å–∑—É–µ–º –µ–≥–æ –≤ `handleSubmit`. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ - —Ç–µ–ø–µ—Ä—å –Ω–æ–≤–∞—è –º—ã—Å–ª—å –±—É–¥–µ—Ç —Å—Ä–∞–∑—É –∂–µ –ø–æ—è–≤–ª—è—Ç—å—Å—è –Ω–∞ —ç–∫—Ä–∞–Ω–µ.

–ü–æ–∑–¥—Ä–∞–≤–ª—è—é üòè –í–º–µ—Å—Ç–µ –º—ã —É—Å–ø–µ—à–Ω–æ –Ω–∞–ø–∏—Å–∞–ª–∏ –Ω–µ–±–æ–ª—å—à–æ–µ `CRUD` –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–∞ `Nuxt` —Å –Ω–∞—à–µ–π —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–π –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö. –ú—ã –ø–æ–¥—Ö–æ–¥–∏–º –∫ –∫–æ–Ω—Ü—É - –æ—Å—Ç–∞–ª–æ—Å—å –∫—É–ø–∏—Ç—å —Ö–æ—Å—Ç–∏–Ω–≥ –±–∞–∑—ã –∏ –æ–±–ª–∞—á–Ω—ã–π —Å–µ—Ä–≤–µ—Ä, –∞ —Ç–∞–∫–∂–µ –∑–∞–≥—Ä—É–∑–∏—Ç—å –∫–æ–¥ —Ç—É–¥–∞ –≤–º–µ—Å—Ç–µ —Å `Dockerfile`, –∏ –Ω–∞—à –ø—Ä–æ–µ–∫—Ç —É–≤–∏–¥–∏—Ç —Å–≤–µ—Ç!

## –î–µ–ø–ª–æ–π

–î–ª—è –¥–µ–ø–ª–æ—è –º—ã —Å–¥–µ–ª–∞–µ–º —Å–ª–µ–¥—É—é—â–µ–µ:

- –ù–∞–ø–∏—à–µ–º `Dockerfile`
- –ö—É–ø–∏–º —Å–µ—Ä–≤–µ—Ä —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω–æ–π
- –ö—É–ø–∏–º –æ–±–ª–∞—á–Ω—ã–π —Å–µ—Ä–≤–µ—Ä –∏ –Ω–∞—Å—Ç—Ä–æ–∏–º –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
- –°–æ–∑–¥–∞–¥–∏–º `Github` —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –∏ –∑–∞–ø—É—à–∏–º –Ω–∞—à –ø—Ä–æ–µ–∫—Ç —Ç—É–¥–∞
- –ó–∞–¥–µ–ø–ª–æ–∏–º –Ω–∞—à–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ ü§´

### –ü–æ–∫—É–ø–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

–¢–µ–ø–µ—Ä—å –¥–∞–≤–∞–π—Ç–µ –ø–µ—Ä–µ–π–¥–µ–º –∫ –ø–æ–∫—É–ø–∫–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö. –û—Ç–ø—Ä–∞–≤–∏–º—Å—è –ø–æ —Å—Å—ã–ª–∫–µ –Ω–∞ —Ö–æ—Å—Ç–∏–Ω–≥:
https://timeweb.cloud/my/database/create?type=mysql&zone=spb-4&preset=341 (–≤ –º–µ–Ω—é - `–ë–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö` -> `—Å–æ–∑–¥–∞—Ç—å`). –í—ã–±–∏—Ä–∞–π—Ç–µ –ø–æ–¥—Ö–æ–¥—è—â–∏–µ –≤–∞–º —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö - –º–æ–∂–Ω–æ –æ—Å—Ç–∞–≤–∏—Ç—å –≤—Å–µ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–º, –∏–ª–∏ –ø–µ—Ä–µ–Ω–µ—Å—Ç–∏ —Å–µ—Ä–≤–µ—Ä –≤ –ù–∏–¥–µ—Ä–ª–∞–Ω–¥—ã –∏ –≤–∑—è—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –ø–æ–º–æ—â–Ω–µ–µ.

–ü–æ—Å–ª–µ –Ω–∞–∂–∞—Ç–∏—è –∫–Ω–æ–ø–∫–∏ –∑–∞–∫–∞–∑–∞—Ç—å –Ω—É–∂–Ω–æ –ø–æ–¥–æ–∂–¥–∞—Ç—å –ø–∞—Ä—É –º–∏–Ω—É—Ç –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –±–∞–∑—ã:

![[Pasted image 20240823193027.png]]

–ü–æ–∫–∞ –∂–¥–µ–º, —Å–æ–∑–¥–∞–¥–∏–º –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:

![[Pasted image 20240823205240.png]]–∏ –Ω–∞–∑–æ–≤–µ–º –µ–≥–æ `user`. –í—ã–¥–∞–π—Ç–µ —ç—Ç–æ–º—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –ø–∞—Ä–æ–ª—å –±–µ–∑ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã—Ö —Å–∏–º–≤–æ–ª–æ–≤. –î–∞–ª–µ–µ, –¥–∞–≤–∞–π—Ç–µ —Å–æ–±–µ—Ä–µ–º –ø—É–±–ª–∏—á–Ω—É—é —Å—Ç—Ä–æ–∫—É –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –±–∞–∑–µ:

`mysql://user:{–í–ê–® –ü–ê–†–û–õ–¨}@{–í–ê–® IP}:3306/default_db`

–í –∏—Ç–æ–≥–µ –±–∞–∑–∞ –¥–æ–ª–∂–Ω–∞ –ø–µ—Ä–µ–π—Ç–∏ –≤ —Å–æ—Å—Ç–æ—è–Ω–∏–µ "–í–∫–ª—é—á–µ–Ω–∞":

![[Pasted image 20240823193312.png]]

### Github

–¢–µ–ø–µ—Ä—å –¥–∞–≤–∞–π—Ç–µ —Å–æ–∑–¥–∞–¥–∏–º —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –Ω–∞ –≥–∏—Ç—Ö–∞–±–µ –∏ –∑–∞–ø—É—à–∏–º —Ç—É–¥–∞ –∫–æ–¥. –î–ª—è —ç—Ç–æ–≥–æ –∑–∞—Ö–æ–¥–∏–º –Ω–∞ `github.com` –∏ –Ω–∞–∂–∏–º–∞–µ–º –∫–Ω–æ–ø–∫—É —Å –ø–ª—é—Å–æ–º —Å–ø—Ä–∞–≤–∞ –≤–≤–µ—Ä—Ö—É. –°–æ–∑–¥–∞–µ–º –ø—Ä–∏–≤–∞—Ç–Ω—ã–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –∏ –∫–æ–ø–∏—Ä—É–µ–º –Ω–∞ –Ω–µ–≥–æ —Å—Å—ã–ª–∫—É –≤ –±—Ä–∞—É–∑–µ—Ä–µ. –í –ø—Ä–æ–µ–∫—Ç–µ –ø—Ä–æ–ø–∏—Å—ã–≤–∞–µ–º `git remote add origin {–°–°–´–õ–ö–ê}`.

–ü–µ—Ä–µ–¥ —Ç–µ–º, –∫–∞–∫ —Å–æ–∑–¥–∞—Ç—å –∫–æ–º–º–∏—Ç, –¥–∞–≤–∞–π—Ç–µ –Ω–∞–ø–∏—à–µ–º `npx prisma migrate dev` —Å –ø–æ–¥–Ω—è—Ç–æ–π –≤ –¥–æ–∫–µ—Ä–µ –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö. `Prisma` —Å–æ–∑–¥–∞—Å—Ç —Ñ–∞–π–ª —Å –º–∏–≥—Ä–∞—Ü–∏—è–º–∏, –∫–æ—Ç–æ—Ä—ã–π –º—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º –≤ `Dockerfile` –¥–ª—è –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –∏—Ö –∫ –ø—Ä–æ–¥–∞–∫—à–µ–Ω –±–∞–∑–µ. –î–∞–ª–µ–µ —Å–æ–∑–¥–∞–µ–º –∫–æ–º–º–∏—Ç –∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º –µ–≥–æ –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –∫–æ–º–∞–Ω–¥–æ–π `git push -u origin HEAD`.

### –ü–æ–∫—É–ø–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞

–ü–µ—Ä–µ—Ö–æ–¥–∏–º –ø–æ —Å—Å—ã–ª–∫–µ https://timeweb.cloud/my/apps/create (–∏–ª–∏ –∂–µ –≤ –º–µ–Ω—é - Apps -> –°–æ–∑–¥–∞—Ç—å). –í –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª–µ –≤–∫–ª–∞–¥–æ–∫ –≤—ã–±–∏—Ä–∞–µ–º `Dockerfile`:

![[Pasted image 20240823202346.png]]

–ù–∞–∂–∏–º–∞–µ–º –∫–Ω–æ–ø–∫—É `–î–æ–±–∞–≤–∏—Ç—å –∞–∫–∫–∞—É–Ω—Ç`:

![[Pasted image 20240823202640.png]]

–ü–æ—Å–ª–µ –ø—Ä–∏–≤—è–∑–∫–∏ –∞–∫–∫–∞—É–Ω—Ç–∞, –≤—ã–±–∏—Ä–∞–µ–º –Ω–∞—à —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:

![[Pasted image 20240823202701.png]]

–ò —Ç–æ—Ç –∂–µ —Ä–µ–≥–∏–æ–Ω, —á—Ç–æ –≤—ã–±–∏—Ä–∞–ª–∏ –¥–ª—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö. –≠—Ç–æ —Å–Ω–∏–∑–∏—Ç –∑–∞–¥–µ—Ä–∂–∫—É.

–ù–∞ —ç—Ç–æ–º —à–∞–≥–µ –≤–∞–∂–Ω–æ –≤—ã–±—Ä–∞—Ç—å —Å–µ—Ä–≤–µ—Ä —Å –∫–∞–∫ –º–∏–Ω–∏–º—É–º 4–≥–± –æ–ø–µ—Ä–∞—Ç–∏–≤–Ω–æ–π –ø–∞–º—è—Ç–∏ –¥–ª—è –±–∏–ª–¥–∞ –ø—Ä–æ–µ–∫—Ç–∞. –ö —Å–æ–∂–∞–ª–µ–Ω–∏—é —è –Ω–µ –Ω–∞—à–µ–ª —Å–ø–æ—Å–æ–±–∞ –∏–∑–±–µ–∂–∞—Ç—å –æ—à–∏–±–∫–∏ –Ω–µ—Ö–≤–∞—Ç–∫–∏ –ø–∞–º—è—Ç–∏ —Å –±–æ–ª–µ–µ —Å–ª–∞–±—ã–º–∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è–º–∏:

![[Pasted image 20240823202806.png]]

–ü–æ–¥ –∫–æ–Ω–µ—Ü, –¥–æ–±–∞–≤–∏–º –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—É—é –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –æ–∫—Ä—É–∂–µ–Ω–∏—è - —Å—Ç—Ä–æ–∫—É, —á—Ç–æ —Å–æ—Å—Ç–∞–≤–∏–ª–∏ —Ä–∞–Ω–Ω–µ–µ –ø–æ–¥ –Ω–∞–∑–≤–∞–Ω–∏–µ–º `DATABASE_URL`:

![[Pasted image 20240823202941.png]]

–ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ –∑–∞–ø—É—Å–∫–∞–µ–º –¥–µ–ø–ª–æ–π, –Ω–æ –ø–æ–∫–∞ –Ω–∏—á–µ–≥–æ –Ω–µ –∂–¥–µ–º. –û—Å—Ç–∞–ª—Å—è –ø–æ—Å–ª–µ–¥–Ω–∏–π —à–∞–≥ - –Ω–∞–ø–∏—Å–∞—Ç—å `Dockerfile` –∏ –∑–∞–ø—É—à–∏—Ç—å –µ–≥–æ.

### Dockerfile

–í `Dockerfile` –º—ã —Ä–∞—Å–ø–∏—à–µ–º –≤—Å–µ —ç—Ç–∞–ø—ã —Å–±–æ—Ä–∫–∏ –ø—Ä–æ–µ–∫—Ç–∞ –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä, –ø—Ä–∏ —ç—Ç–æ–º —É—á–∏—Ç—ã–≤–∞—è —Ç–æ, —á—Ç–æ–±—ã `Timeweb` –ø–æ–Ω—è–ª, —á—Ç–æ –º—ã –æ—Ç –Ω–µ–≥–æ —Ö–æ—Ç–∏–º. –ü–µ—Ä–µ–¥ —Å–æ–∑–¥–∞–Ω–∏–µ–º `Dockerfile`, –¥–∞–≤–∞–π—Ç–µ —Å–æ–∑–¥–∞–¥–∏–º `.dockerignore`. –≠—Ç–æ—Ç —Ñ–∞–π–ª –≤–Ω–µ—Å–µ—Ç –≤ —á–µ—Ä–Ω—ã–π —Å–ø–∏—Å–æ–∫ –≤—Å–µ —Ñ–∞–π–ª—ã, –∫–æ—Ç–æ—Ä—ã–µ –º—ã –Ω–µ —Ö–æ—Ç–µ–ª–∏ –±—ã –ø–µ—Ä–µ–Ω–æ—Å–∏—Ç—å –∏–∑ –ø—Ä–æ–µ–∫—Ç–∞ –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä, –≤—Ä–æ–¥–µ –ø–∞–ø–∫–∏ –≥–∏—Ç —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è –∏–ª–∏ —É–∂–µ –≥–æ—Ç–æ–≤–æ–≥–æ `.nuxt` –±–∏–ª–¥–∞:

```dockerignore
node_modules/
startup.sh

# –∏–≥–Ω–æ—Ä–∏—Ä—É–µ–º –≤—Å–µ —Å–∫—Ä—ã—Ç—ã–µ —Ñ–∞–π–ª—ã –∏ –ø–∞–ø–∫–∏—ë, –∫–æ—Ç–æ—Ä—ã–µ –Ω–∞—á–∏–Ω–∞—é—Ç—Å—è —Å —Ç–æ—á–∫–∏
.*
```

–¢–µ–ø–µ—Ä—å —Å–æ–∑–¥–∞–¥–∏–º `Dockerfile` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞. –ú—ã —Ä–∞–∑–æ–±—å–µ–º –¥–µ–ø–ª–æ–π –Ω–∞ —á–∞—Å—Ç–∏, —á—Ç–æ–±—ã –±—ã–ª –ø–æ–Ω—è—Ç–µ–Ω –ø—Ä–æ—Ü–µ—Å—Å —Å–±–æ—Ä–∫–∏ –ø—Ä–æ–µ–∫—Ç–∞.

–°—Ç–∞–¥–∏—è –ø–µ—Ä–≤–∞—è: –≤—ã–±–∏—Ä–∞–µ–º –Ω—É–∂–Ω—ã–π –æ–±—Ä–∞–∑ (`node-slim`), –¥–æ–±–∞–≤–ª—è–µ–º `package.json` –∏ `package-lock.json` –∏ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏. –¢–∞–∫–∂–µ –Ω–∞–º –Ω—É–∂–Ω–æ –ø—Ä–æ–∫–∏–Ω—É—Ç—å `ARG` `DATABASE_URL` –¥–ª—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:

```Dockerfile
ARG NODE_VERSION=20

FROM node:${NODE_VERSION}-alpine

ARG DATABASE_URL
ENV DATABASE_URL ${DATABASE_URL}

WORKDIR /app
COPY package.json package-lock.json ./
RUN npm install
```

–ö–æ–ø–∏—Ä—É–µ–º –æ—Å—Ç–∞–ª—å–Ω—ã–µ —Ñ–∞–π–ª—ã, –∑–∞–ø—É—Å–∫–∞–µ–º –º–∏–≥—Ä–∞—Ü–∏–∏ –∏ –±–∏–ª–¥–∏–º –ø—Ä–æ–µ–∫—Ç:

```Dockerfile
COPY . .

RUN npx prisma migrate deploy
RUN npx prisma generate

RUN npm run build
RUN npm prune
```

–°–æ–∑–¥–∞–µ–º —Ñ–∏–Ω–∞–ª—å–Ω—ã–π –æ–±—Ä–∞–∑, –≤ –∫–æ—Ç–æ—Ä—ã–π —Å–∫–æ–ø–∏—Ä—É–µ–º –≥–æ—Ç–æ–≤—ã–π –±–∏–ª–¥, –∑–∞–ø—É—Å—Ç–∏–º –µ–≥–æ –Ω–∞ –ø–æ—Ä—Ç—É 3000 –∏ –æ—Ç–∫—Ä–æ–µ–º –ø–æ—Ä—Ç –¥–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã `Timeweb` –∑–Ω–∞–ª –Ω–∞ –∫–∞–∫–æ–º –ø–æ—Ä—Ç—É –Ω—É–∂–Ω–æ –ø—Ä–æ—Å–ª—É—à–∏–≤–∞—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ:

```Dockerfile
ENV PORT=3000

CMD ["node", "/app/.output/server/index.mjs"]

EXPOSE 3000
```

–§–∏–Ω–∞–ª—å–Ω—ã–π `Dockerfile` –±—É–¥–µ—Ç –≤—ã–≥–ª—è–¥–µ—Ç—å —Ç–∞–∫:

```dockerfile
ARG NODE_VERSION=20

FROM node:${NODE_VERSION}-alpine

ARG DATABASE_URL
ENV DATABASE_URL ${DATABASE_URL}

WORKDIR /app
COPY package.json package-lock.json ./
RUN npm install

COPY . .

RUN npx prisma migrate deploy
RUN npx prisma generate

RUN npm run build
RUN npm prune

ENV PORT=3000

CMD ["node", "/app/.output/server/index.mjs"]

EXPOSE 3000

```

–¢–µ–ø–µ—Ä—å –¥–∞–≤–∞–π—Ç–µ –æ—Ç–ø—Ä–∞–≤–∏–º –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –∏ –ø–æ—Å–º–æ—Ç—Ä–∏–º –∑–∞ –±–∏–ª–¥–æ–º! –°–¥–µ–ª–∞—Ç—å —ç—Ç–æ –º–æ–∂–Ω–æ, –µ—Å–ª–∏ –ø–µ—Ä–µ–π—Ç–∏ –≤–æ –≤–∫–ª–∞–¥–∫—É –¥–µ–ø–ª–æ–π –∏ –Ω–∞–∂–∞—Ç—å `–í–∫–ª—é—á–∏—Ç—å —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ –ª–æ–≥–∏` (–Ω—É–∂–Ω–æ –±—É–¥–µ—Ç –Ω–µ–º–Ω–æ–≥–æ –ø–æ–¥–æ–∂–¥–∞—Ç—å):

![[Pasted image 20240823203109.png]]

–ö–æ–≥–¥–∞ –¥–µ–ø–ª–æ–π —É—Å–ø–µ—à–Ω–æ –∑–∞–≤–µ—Ä—à–∏—Ç—Å—è, –ø–µ—Ä–µ–π–¥–µ–º –ø–æ –¥–æ–º–µ–Ω—É, –∫–æ—Ç–æ—Ä—ã–π —É–∫–∞–∑–∞–Ω –≤ –¥–∞—à–±–æ—Ä–¥–µ –Ω–∞—à–µ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:

![[Pasted image 20240823210657.png]]

–ì–æ—Ç–æ–≤–æ üòá

![[Pasted image 20240823210817.png]]

–í –ø—Ä–æ–µ–∫—Ç —Ç–∞–∫–∂–µ –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å `SEO` –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –∏ —Ñ–∞–≤–∏–∫–æ–Ω–∫—É - –∏—Ö –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –≤ `nuxt.config.ts` –ø–æ –≥–∞–π–¥—É `Nuxt` –∑–¥–µ—Å—å: https://nuxt.com/docs/getting-started/seo-meta. –ï—â–µ –∏–Ω—Ç–µ—Ä–µ—Å–Ω–æ –±—ã–ª–æ –±—ã –æ–±–∑–∞–≤–µ—Å—Ç–∏—Å—å –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–µ–π, —á—Ç–æ–±—ã –º–æ–∂–Ω–æ –±—ã–ª–æ –æ—Ç–ª–∏—á–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –¥—Ä—É–≥ –æ—Ç –¥—Ä—É–≥–∞ –Ω–µ —Ç–æ–ª—å–∫–æ –Ω–∞ –æ—Å–Ω–æ–≤–µ –æ–¥–Ω–æ–≥–æ –ø–æ–ª—è –≤–≤–æ–¥–∞, –∞ —Ç–∞–∫–∂–µ –æ–≥—Ä–∞–Ω–∏—á–∏—Ç—å –¥–æ—Å—Ç—É–ø –∫ —Å–æ–æ–±—â–µ–Ω–∏—è–º –ª—é–¥—è–º –±–µ–∑ –∞–∫–∫–∞—É–Ω—Ç–∞. –î–ª—è –∫—Ä–∞—Å–æ—Ç—ã –º–æ–∂–Ω–æ –±—ã–ª–æ –±—ã –¥–æ–±–∞–≤–∏—Ç—å –∫—Ä–∞—Å–∏–≤—ã–π –Ω–∞–≤–±–∞—Ä —Å –ª–æ–≥–æ –≤ –≤–∏–¥–µ –∫–∞–∫–æ–π-–Ω–∏–±—É–¥—å —á–µ—Ä–µ–ø–∞—Ö–∏ –∏ –∫–Ω–æ–ø–∫–æ–π –≤—Ö–æ–¥–∞, –∞ —Ç–∞–∫–∂–µ –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª–µ–º —Ç–µ–º–Ω–æ–π —Ç–µ–º—ã, –∫–æ—Ç–æ—Ä—É—é –º–æ–∂–Ω–æ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å —Ç—É—Ç: https://zippystarter.com/tools/shadcn-ui-theme-generator.

–ù–∞–¥–µ—é—Å—å, –≤—ã –µ—â–µ –±—É–¥–µ—Ç–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è `Nuxt` –∏, –≤–æ–∑–º–æ–∂–Ω–æ –¥–æ—Ä–∞–±–æ—Ç–∞–µ—Ç–µ —ç—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç =) –°–ø–∞—Å–∏–±–æ –∑–∞ –≤—Ä–µ–º—è, –ø–æ—Ç—Ä–∞—á–µ–Ω–Ω–æ–µ –Ω–∞ –º–æ—é —Å—Ç–∞—Ç—å—é. –•–æ—Ä–æ—à–µ–≥–æ –≤—Ä–µ–º–µ–Ω–∏ —Å—É—Ç–æ–∫ –∏ —É–¥–∞—á–Ω—ã—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π –Ω–∞ `Nuxt`!
